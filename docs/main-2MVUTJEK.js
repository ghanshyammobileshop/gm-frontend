import{a as h}from"./chunk-A4PXGTKS.js";import{a as H}from"./chunk-N6AUWC32.js";import{a as Re,b as I}from"./chunk-XDONAU26.js";import{a as Y,b as xe,d as Le,f as we}from"./chunk-FF4N62Y4.js";import{$ as B,D as j,M as Te,N as Fe,O as Oe,P as De,Q as Pe,R as Ne,T as Ve,Y as Ue,Z as He,_ as je,c as Ee,i as ke,pa as Be,qa as T}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{c as J,e as Ce,f as Se,g as ye,h as Ae,k as R,l as A,m as Ie,n as be,o as Me,p as U}from"./chunk-TN7LRJOG.js";import{d as ge,m as w,t as ve,v as _e}from"./chunk-MKB6ZC6F.js";import{Aa as x,Ab as m,Ba as L,Bc as ue,Cb as de,Dc as he,Ja as oe,Jb as o,Kb as s,L as K,Lb as d,Mc as fe,Pb as N,Qa as ae,Ra as se,T as ee,Vb as k,aa as P,ea as te,eb as l,ec as F,fb as C,fc as c,gb as le,gc as V,ha as ie,hc as O,ib as me,ka as ne,kb as ce,na as u,nb as pe,nc as S,oc as y,pb as z,ra as _,t as M,u as X,va as re,vb as E}from"./chunk-L2AW7WK7.js";var f=(i,e)=>{let n=u(A);return u(I).check().pipe(P(t=>{if(!t){let r=n.parseUrl("sign-in");return M(r)}return M(!0)}))};var Z=(i,e)=>{let n=u(A),t=u(H);return u(I).check().pipe(P(r=>{if(r){let a=t.getInitialRouteAccess();return M(n.parseUrl(a))}return M(!0)}))};function Ye(i,e){i&1&&d(0,"router-outlet")}var D=class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=_({type:i,selectors:[["app-empty-layout"]],standalone:!0,features:[S],decls:3,vars:1,consts:[[1,"flex","flex-col","flex-auto","w-full","h-full"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"]],template:function(n,t){n&1&&(o(0,"div",0)(1,"div",1),E(2,Ye,1,0,"router-outlet",2),s()()),n&2&&(l(2),m("ngIf",!0))},dependencies:[T,R,w]})};var b=()=>["active"];function $e(i,e){i&1&&(o(0,"a",29),d(1,"img",30),c(2," Dashboard "),s()),i&2&&m("routerLinkActive",y(1,b))}function qe(i,e){i&1&&(o(0,"a",31),d(1,"img",32),c(2," Customer "),s()),i&2&&m("routerLinkActive",y(1,b))}function Xe(i,e){i&1&&(o(0,"a",33),d(1,"img",34),c(2," Invoice "),s()),i&2&&m("routerLinkActive",y(1,b))}function Ke(i,e){i&1&&(o(0,"a",35),d(1,"img",36),c(2," App User "),s()),i&2&&m("routerLinkActive",y(1,b))}function et(i,e){i&1&&(o(0,"a",37),d(1,"img",38),c(2," Shops "),s()),i&2&&m("routerLinkActive",y(1,b))}function tt(i,e){i&1&&(o(0,"a",39),d(1,"img",40),c(2," Log Report "),s()),i&2&&m("routerLinkActive",y(1,b))}function it(i,e){i&1&&(o(0,"a",41),d(1,"img",42),c(2," Settings "),s()),i&2&&m("routerLinkActive",y(1,b))}var Q=class i{constructor(e,n,t){this._router=e;this._userService=n;this._authService=t;this.feVersion=xe.appVersion,this._userService.user$.subscribe(r=>{this.user=r;let a=this.user.name.trim().split(" "),p=a[0][0],g=a[a.length-1][0];this.avatarInitials=(p+g).toUpperCase()})}accessControls=Y;user;avatarInitials="";feVersion="";signOut(){this._authService.signOut(),this._router.navigate(["/sign-out"])}static \u0275fac=function(n){return new(n||i)(C(A),C(H),C(I))};static \u0275cmp=_({type:i,selectors:[["app-sidebar"]],standalone:!0,features:[S],decls:47,vars:17,consts:[["userActions","matMenu"],[1,"m-2"],[1,"py-8"],["src","assets/images/logo/logo.png",1,"dark:brightness-0","dark:invert","w-36","mx-auto"],[1,"px-2","sidebar"],["mat-list-item","","routerLink","/dashboard",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/customer",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/invoice",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/admin-user",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/shop",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/log-report",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/settings",3,"routerLinkActive",4,"ngIf"],[1,"flex","flex-row","items-center","w-full","pt-3","pl-3","border-t"],[1,"relative","w-20","rounded-full","bg-secondary","mr-3"],[1,"w-full","h-full","rounded-full","img-text","text-black"],[1,"flex","flex-col","items-center","w-full"],[1,"w-full","whitespace-nowrap","text-ellipsis","overflow-hidden","leading-normal","font-medium","text-sm","mb-0"],[1,"w-36","mt-0.5","whitespace-nowrap","text-ellipsis","overflow-hidden","text-xs","leading-normal","font-medium","text-secondary","m-0"],[1,"text-[20px]","cursor-pointer",3,"matMenuTriggerFor"],[3,"xPosition"],["mat-menu-item","",1,"hover:bg-transparent"],[1,"flex","flex-col","leading-none"],[1,"text-xs","m-0"],[1,"text-sm","text-primary","font-medium","m-0","mt-1"],[1,"text-xs","text-default"],[1,"mt-1","text-sm","text-secondary","font-normal"],[1,"my-2"],["mat-menu-item","",3,"disabled"],["mat-menu-item","",3,"click"],["mat-list-item","","routerLink","/dashboard",3,"routerLinkActive"],["src","assets/icons/dashboard.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/customer",3,"routerLinkActive"],["src","assets/icons/customer.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/invoice",3,"routerLinkActive"],["src","assets/icons/invoice.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/admin-user",3,"routerLinkActive"],["src","assets/icons/admin-user.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/shop",3,"routerLinkActive"],["src","assets/icons/store.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/log-report",3,"routerLinkActive"],["src","assets/icons/log-report.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/settings",3,"routerLinkActive"],["src","assets/icons/settings.svg","alt","",1,"mr-3"]],template:function(n,t){if(n&1){let r=N();o(0,"div",1)(1,"div",2),d(2,"img",3),s(),o(3,"mat-nav-list",4),E(4,$e,3,2,"a",5)(5,qe,3,2,"a",6)(6,Xe,3,2,"a",7)(7,Ke,3,2,"a",8)(8,et,3,2,"a",9)(9,tt,3,2,"a",10)(10,it,3,2,"a",11),s(),o(11,"div",12)(12,"div",13)(13,"span",14)(14,"b"),c(15),s()()(),o(16,"div",15)(17,"p",16),c(18),s(),o(19,"p",17),c(20),s()(),o(21,"mat-icon",18),c(22,"chevron_right"),s()()(),o(23,"mat-menu",19,0)(25,"button",20)(26,"span",21)(27,"p",22),c(28,"Signed in as"),s(),o(29,"h4",23),c(30),o(31,"span",24),c(32),s()(),o(33,"span",25),c(34),s()()(),d(35,"mat-divider",26),o(36,"button",27)(37,"mat-icon"),c(38,"published_with_changes"),s(),o(39,"span"),c(40),s()(),d(41,"mat-divider",26),o(42,"button",28),k("click",function(){return x(r),L(t.signOut())}),o(43,"mat-icon"),c(44,"logout"),s(),o(45,"span"),c(46,"Log out"),s()()()}if(n&2){let r,a,p=F(24);l(4),m("ngIf",t._userService.hasAccess(t.accessControls.DASHBOARD_VIEW)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.CUSTOMER_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.INVOICE_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.USER_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.SHOP_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.LOG_READ_ALL)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.APP_SETTINGS)),l(5),V(t.avatarInitials),l(3),O(" ",(r=t.user==null?null:t.user.name)!==null&&r!==void 0?r:""," "),l(2),O(" ",t.user==null?null:t.user.email," "),l(),m("matMenuTriggerFor",p),l(2),m("xPosition","after"),l(7),O("",(a=t.user==null?null:t.user.name)!==null&&a!==void 0?a:""," "),l(2),V(t.user!=null&&t.user.role?"("+(t.user==null?null:t.user.role)+")":""),l(2),V(t.user==null?null:t.user.email),l(2),m("disabled",!0),l(4),O("Build: v",t.feVersion,"")}},dependencies:[ve,w,T,Te,j,Oe,Fe,Pe,De,Ne,B,U,Ie,be],styles:["a.mat-mdc-list-item[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]{text-transform:capitalize}a.mat-mdc-list-item[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{align-items:center}a.mat-mdc-list-item[_ngcontent-%COMP%]:hover:not(a.mat-mdc-list-item.active), .mat-expansion-panel-header[_ngcontent-%COMP%]:hover:not(a.mat-mdc-list-item.active){color:#4a576d;background-color:#f4f4f5}.mat-mdc-nav-list[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:3px}  .mat-mdc-nav-list .mdc-list-item__primary-text,   .mat-expansion-panel-header .mat-content{font-size:14px;align-items:center;display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important;background:inherit;z-index:9}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:16px;padding-right:10px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{opacity:1}  mat-nav-list .mat-expansion-panel-body{padding:0}  mat-nav-list .mat-expansion-panel-body mat-icon{margin-left:28px}.img-text[_ngcontent-%COMP%]{padding:15px;display:inline-block}"]})};function nt(i,e){i&1&&d(0,"router-outlet")}var v=class i{constructor(e,n,t){this.platformId=t;this.mobileQuery=n.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addEventListener("change",this._mobileQueryListener),_e(this.platformId)&&(this.darkMode=z(JSON.parse(window.localStorage.getItem("darkMode")??"false")),fe(()=>{window.localStorage.setItem("darkMode",JSON.stringify(this.darkMode()))})),this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth}}screenWidth;mobileQuery;_mobileQueryListener;darkMode=z(!1);docElement;isFullScreen=!1;get mode(){return this.darkMode()}ngOnDestroy(){this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}ngOnInit(){this.docElement=document.documentElement}toggleFullScreen(){this.isFullScreen?document.exitFullscreen():this.docElement.requestFullscreen(),this.isFullScreen=!this.isFullScreen}static \u0275fac=function(n){return new(n||i)(C(he),C(Ee),C(ae))};static \u0275cmp=_({type:i,selectors:[["app-layout"]],hostVars:2,hostBindings:function(n,t){n&2&&de("dark",t.mode)},standalone:!0,features:[S],decls:14,vars:4,consts:[["snav",""],[1,"h-full","dark:bg-gray-900"],[1,"bg-white","dark:bg-accent","shadow",3,"mode","fixedInViewport","opened"],[3,"click"],[1,"bg-white","relative","flex","flex-0","items-center","justify-between","shadow","w-full","h-16","px-4","md:px-6","z-10","dark:bg-accent","dark:text-white","dark:border-b","print:hidden"],["mat-icon-button","",3,"click"],[1,"flex"],["mat-icon-button","","matTooltip","Toggle Fullscreen",1,"ml-1",3,"click"],[4,"ngIf"]],template:function(n,t){if(n&1){let r=N();o(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"app-sidebar",3),k("click",function(){x(r);let p=F(2);return L(t.screenWidth<640?p.toggle():null)}),s()(),o(4,"mat-sidenav-content")(5,"mat-toolbar",4)(6,"button",5),k("click",function(){x(r);let p=F(2);return L(p.toggle())}),o(7,"mat-icon"),c(8,"menu"),s()(),o(9,"div",6)(10,"button",7),k("click",function(){return x(r),L(t.toggleFullScreen())}),o(11,"mat-icon"),c(12,"zoom_out_map"),s()()()(),E(13,nt,1,0,"router-outlet",8),s()()}n&2&&(l(),m("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches)("opened",t.screenWidth>640),l(12),m("ngIf",!0))},dependencies:[T,ke,j,He,je,Ue,Be,Ve,R,w,B,U,Q]})};var Ge=[{path:"",pathMatch:"full",redirectTo:"sign-in"},{path:"signed-in-redirect",pathMatch:"full",redirectTo:"dashboard"},{path:"",canActivate:[Z],canActivateChild:[Z],component:D,children:[{path:"confirmation-required",loadChildren:()=>import("./chunk-NXOOZFEW.js")},{path:"forgot-password",loadChildren:()=>import("./chunk-R7JDCMKX.js")},{path:"reset-password",loadChildren:()=>import("./chunk-7ZSJIJK3.js")},{path:"sign-in",loadChildren:()=>import("./chunk-3HBV2UPJ.js")},{path:"sign-up",loadChildren:()=>import("./chunk-5GSHXULP.js")},{path:"sign-out",loadChildren:()=>import("./chunk-WB6HXKAD.js")},{path:"maintenance",loadChildren:()=>import("./chunk-IKYWPXGP.js")},{path:"error",loadChildren:()=>import("./chunk-TJN3I5AH.js")}]},{path:"dashboard",canActivate:[f,h("DASHBOARD_VIEW")],canActivateChild:[f,h("DASHBOARD_VIEW")],component:v,loadChildren:()=>import("./chunk-GZBO5ZIQ.js").then(i=>i.DashboardModule)},{path:"admin-user",canActivate:[f,h("USER_READ_LIST")],canActivateChild:[f,h("USER_READ_LIST")],component:v,loadChildren:()=>import("./chunk-JJ7I5PBM.js").then(i=>i.AdminUserModule)},{path:"customer",canActivate:[f,h("CUSTOMER_READ_LIST")],canActivateChild:[f,h("CUSTOMER_READ_LIST")],component:v,loadChildren:()=>import("./chunk-AQ6TBU3J.js").then(i=>i.CustomerModule)},{path:"invoice",canActivate:[f,h(["INVOICE_READ_LIST"])],canActivateChild:[f,h(["INVOICE_READ_LIST"])],component:v,loadChildren:()=>import("./chunk-NJRDZ4MI.js").then(i=>i.InvoiceModule)},{path:"shop",canActivate:[f,h("SHOP_READ_LIST")],canActivateChild:[f,h("SHOP_READ_LIST")],component:v,loadChildren:()=>import("./chunk-IHJU2LN4.js").then(i=>i.ShopModule)},{path:"log-report",canActivate:[f,h("LOG_READ_ALL")],canActivateChild:[f,h("LOG_READ_ALL")],component:v,loadChildren:()=>import("./chunk-6KQB4AHV.js").then(i=>i.LogReportModule)},{path:"settings",canActivate:[f,h("APP_SETTINGS")],canActivateChild:[f,h("APP_SETTINGS")],component:v,loadChildren:()=>import("./chunk-6SP6X5AN.js").then(i=>i.SettingsModule)},{path:"**",component:D,data:{layout:"empty"},loadChildren:()=>import("./chunk-TJN3I5AH.js")}];var rt="@",ot=(()=>{let e=class e{constructor(t,r,a,p,g){this.doc=t,this.delegate=r,this.zone=a,this.animationType=p,this.moduleImpl=g,this._rendererFactoryPromise=null,this.scheduler=u(me,{optional:!0}),this.loadingSchedulerFn=u(at,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-BMAUQGWA.js").then(a=>a),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(a=>{throw new te(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:p})=>{this._engine=a(this.animationType,this.doc);let g=new p(this.delegate,this._engine,this.zone);return this.delegate=g,g})}createRenderer(t,r){let a=this.delegate.createRenderer(t,r);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let p=new q(a);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(g=>{let Je=g.createRenderer(t,r);p.use(Je),this.scheduler?.notify(10)}).catch(g=>{p.use(a)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){le()},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let i=e;return i})(),q=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,t,r){this.delegate.insertBefore(e,n,t,r)}removeChild(e,n,t){this.delegate.removeChild(e,n,t)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,r){this.delegate.setAttribute(e,n,t,r)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,r){this.delegate.setStyle(e,n,t,r)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,t)),this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,t)),this.delegate.listen(e,n,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(rt)}},at=new ne("");function Qe(i="animations"){return pe("NgAsyncAnimations"),re([{provide:ce,useFactory:(e,n,t)=>new ot(e,n,t,i),deps:[ge,ye,oe]},{provide:se,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var We=(i,e)=>{let n=u(we),t=u(I),r=u(Le),a=u(A),p=r.getSessionToken();return p&&!Re.isTokenExpired(p)&&(i=i.clone({headers:i.headers.set("Authorization",`Bearer ${p}`)})),n.showLoader(),e(i).pipe(K(g=>(g instanceof J&&g instanceof J&&g.status===401&&(t.signOut(),a.navigate(["sign-in"])),X(()=>g))),ee(()=>n.hideLoader()))};var ze={providers:[ue({eventCoalescing:!0}),Me(Ge),Qe(),Ce(Se([We]))]};var W=class i{title="gm-frontend";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=_({type:i,selectors:[["app-root"]],standalone:!0,features:[S],decls:1,vars:0,template:function(n,t){n&1&&d(0,"router-outlet")},dependencies:[R]})};Ae(W,ze).catch(i=>console.error(i));
