import{a as z}from"./chunk-WJGF7EMD.js";import{a as L}from"./chunk-V4PXP256.js";import{c as M,e as N}from"./chunk-QVUSE63M.js";import{B as V,S as $,g as E,m as j,n as A,o as B,p as T,qa as q,r as G,s as U,t as O,v as R,w as k,x as P}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{p as y}from"./chunk-TN7LRJOG.js";import{s as x,t as D}from"./chunk-MKB6ZC6F.js";import{Ab as h,Gb as g,Hb as b,Ib as C,Jb as t,Kb as i,Vb as F,eb as s,fb as p,fc as n,g as u,gc as I,hc as d,ia as f,ra as S,rc as _,sa as v,tc as w}from"./chunk-L2AW7WK7.js";function K(a,e){if(a&1&&(t(0,"mat-option",5),n(1),i()),a&2){let o=e.$implicit;h("value",o.id),s(),I(o.name)}}var c=class a{constructor(e,o,r,m,l){this._fb=e;this._shopService=o;this._utilService=r;this._storageService=m;this._userService=l}searchForm;shopDropdown=null;shopId=null;statistics=null;ngOnInit(){this.searchForm=this._fb.group({shopId:new B(null)}),this.getShopList()}changeShop(e){e.value&&(this.shopId=e.value,this._storageService.setCurrentShopAccess(e.value))}getShopList(){return u(this,null,function*(){try{this._utilService.showLoader(),this.shopDropdown=yield this._shopService.getShopListByAccess();let e=this._storageService.getCurrentShopAccess();e?this.shopId=e:(this.shopId=this.shopDropdown.length>0?this.shopDropdown[0].id:null,this.shopId!=null&&this._storageService.setCurrentShopAccess(this.shopId)),this.searchForm.patchValue({shopId:this.shopId}),this.statistics=yield this._userService.getStatistics()}catch(e){this._utilService.showErrorSnack(e)}finally{this._utilService.hideLoader()}})}static \u0275fac=function(o){return new(o||a)(p(O),p(z),p(N),p(M),p(L))};static \u0275cmp=S({type:a,selectors:[["app-dashboard"]],decls:32,vars:7,consts:[[1,"w-full","p-8"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["placeholder","Shop","formControlName","shopId",3,"selectionChange"],[3,"value"],[1,"w-full","bg-[white]","rounded","box-shadow","mb-5","p-6","pt-5"],[1,"text-primary","text-xl","font-bold","mb-5"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","w-full"],[1,"p-4","bg-[#DDE8FF]","shadow","rounded","active:bg-primary-100","focus:bg-primary-100","hover:bg-primary-100"],[1,"text-center","font-medium","mt-2"],[1,"text-5xl","font-bold","leading-none","text-[#729AF2]"],[1,"p-4","bg-[#FFF6E8]","shadow","rounded","active:bg-amber-100","focus:bg-amber-100","hover:bg-amber-100"],[1,"text-5xl","font-bold","leading-none","text-[#EFB766]"],[1,"p-4","bg-[#FFEDEF]","shadow","rounded","active:bg-red-100","focus:bg-red-100","hover:bg-red-100"],[1,"text-5xl","font-bold","leading-none","text-[#E57975]"]],template:function(o,r){if(o&1&&(t(0,"div",0)(1,"form",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),n(5,"Current Shop"),i(),t(6,"mat-select",4),F("selectionChange",function(l){return r.changeShop(l)}),b(7,K,2,2,"mat-option",5,g),i()()()(),t(9,"div",6)(10,"h2",7),n(11,"Statistics"),i(),t(12,"div",8)(13,"button",9)(14,"p",10),n(15,"Total Customer"),i(),t(16,"div")(17,"p",11),n(18),i()()(),t(19,"button",12)(20,"p",10),n(21,"Total Invoice"),i(),t(22,"div")(23,"p",13),n(24),i()()(),t(25,"button",14)(26,"p",10),n(27,"Total Selling"),i(),t(28,"div")(29,"p",15),n(30),_(31,"number"),i()()()()()()),o&2){let m,l;s(),h("formGroup",r.searchForm),s(6),C(r.shopDropdown),s(11),d(" ",(m=r.statistics==null?null:r.statistics.totalCustomer)!==null&&m!==void 0?m:0," "),s(6),d(" ",(l=r.statistics==null?null:r.statistics.totalInvoice)!==null&&l!==void 0?l:0," "),s(6),d(" ",w(31,4,r.statistics==null?null:r.statistics.totalSellingAmount,".2-2")," ")}},dependencies:[E,V,P,$,T,j,A,G,U,x],styles:[".box-shadow[_ngcontent-%COMP%]{box-shadow:0 0 30px #80808026}"]})};var Q=[{path:"",component:c}],H=class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=v({type:a});static \u0275inj=f({imports:[D,q,R,k,y.forChild(Q)]})};export{H as DashboardModule};
