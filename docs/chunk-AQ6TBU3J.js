import{a as je}from"./chunk-ZGJGSVCR.js";import{a as k,b as He}from"./chunk-RLEHWKGY.js";import{a as it,b as ze}from"./chunk-DO37JCVR.js";import{a as P}from"./chunk-A4PXGTKS.js";import{a as F}from"./chunk-N6AUWC32.js";import{a as I,d as B,f as V}from"./chunk-FF4N62Y4.js";import{B as J,D as A,E as K,K as Pe,S as Ue,U as W,aa as Le,ba as X,ca as Be,da as Y,ea as Z,fa as ee,g as Ve,ga as te,h as R,ha as ie,i as Fe,ia as re,ja as oe,k as O,ka as ne,l as ve,la as ae,m as j,ma as me,n as z,na as le,o as g,oa as se,p as H,qa as Oe,r as q,s as G,t as $,v as Ae,w as ke,x as Q}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{b as Ne,j as M,l as N,p as Re}from"./chunk-TN7LRJOG.js";import{m as D,o as Te,s as De,t as Me}from"./chunk-MKB6ZC6F.js";import{$b as pe,Aa as v,Ab as u,Ba as S,Jb as o,Kb as r,Lb as b,Mb as C,N as we,Nb as _,Pb as w,S as xe,Vb as f,Xb as h,a as ge,ac as fe,ba as de,bc as Ce,eb as m,f as tt,fb as c,fc as a,g as E,hc as d,ia as Ee,m as be,qc as ye,ra as T,rc as _e,sa as Ie,tc as he,vb as s,zb as L}from"./chunk-L2AW7WK7.js";var Ze=tt(it());var at=(i,e)=>[i,e];function mt(i,e){i&1&&(o(0,"div")(1,"mat-label",19),a(2,"Status"),r(),o(3,"div",20)(4,"span"),a(5,"Inactive"),r(),b(6,"mat-slide-toggle",21),o(7,"span"),a(8,"Active"),r()()())}function lt(i,e){i&1&&(o(0,"button",22),a(1,"Save"),r())}var U=class i{constructor(e,t,n,l,p,x,y){this._activatedRoute=e;this._fb=t;this._router=n;this._utilService=l;this._customerService=p;this._storageService=x;this._userService=y}accessControls=I;userForm;currentUserId=null;currentUser=null;submitEnable=!0;urlParams=null;ngOnInit(){this._activatedRoute.paramMap.subscribe(e=>E(this,null,function*(){this.currentUserId=e.get("id"),this.initializeForm(),yield this.loadPreData()})),this._activatedRoute.queryParams.subscribe(e=>{this.urlParams=e})}initializeForm(){this.userForm=this._fb.group({name:new g(null,[ve.required]),email:new g(null,[ve.email]),mobileNo1:new g(null),mobileNo2:new g(null),gstNo:new g(null),active:new g(!0)})}get f(){return this.userForm.controls}loadPreData(){return E(this,null,function*(){try{this.currentUserId&&(this.currentUser=yield this._customerService.getCustomerById(this.currentUserId),this.userForm.patchValue({name:this.currentUser.name,email:this.currentUser.email,mobileNo1:this.currentUser.mobileNo1,mobileNo2:this.currentUser.mobileNo2,gstNo:this.currentUser.gstNo,active:this.currentUser.active}))}catch(e){this._utilService.showErrorSnack(e)}})}onSubmit(){return E(this,null,function*(){if(this.userForm.invalid){this.userForm.markAllAsTouched();return}var e=(0,Ze.cloneDeep)(this.userForm.value);try{this.submitEnable=!1;let t;if(this.currentUserId)e.id=this.currentUserId,t=yield this._customerService.updateCustomer(e);else{let n=this._storageService.getCurrentShopAccess();n?(e.shopId=n,t=yield this._customerService.createCustomer(e)):this._utilService.showErrorSnack("Please select shop from the dashboard")}this._utilService.showSuccessSnack(t.message),this.backToList()}catch(t){this._utilService.showErrorSnack(t)}finally{this.submitEnable=!0}})}backToList(){this._router.navigate(["/customer"],{queryParams:this.urlParams})}static \u0275fac=function(t){return new(t||i)(c(M),c($),c(N),c(V),c(k),c(B),c(F))};static \u0275cmp=T({type:i,selectors:[["app-create-customer"]],decls:38,vars:7,consts:[[1,"w-full","p-8"],[1,"flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[3,"ngSubmit","formGroup"],[1,"bg-white","border","rounded-md","mt-8"],[1,"text-base","font-semibold","py-3","border-b","px-6","m-0"],[1,"grid","md:grid-cols-3","grid-cols-1","gap-x-5","gap-y-2","p-6"],["floatLabel","always"],["matInput","","placeholder","Enter Name","formControlName","name"],["matInput","","placeholder","Enter Email Address","formControlName","email"],["matInput","","placeholder","Enter Mobile No1","formControlName","mobileNo1"],["matInput","","placeholder","Enter Mobile No2","formControlName","mobileNo2"],["matInput","","placeholder","Enter GST No","formControlName","gstNo"],[4,"ngIf"],[1,"flex","justify-end","mt-8"],["mat-raised-button","","type","button",1,"rounded","mr-5","bg-[#EFEFEF]","text-[#111725]",3,"click"],["mat-raised-button","","class","rounded","type","submit","color","primary",4,"ngIf"],[1,"text-sm","text-primary"],[1,"flex","mt-2","text-sm","items-center"],["formControlName","active",1,"mx-3"],["mat-raised-button","","type","submit","color","primary",1,"rounded"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3),r(),o(4,"button",3),f("click",function(){return n.backToList()}),o(5,"mat-icon",4),a(6,"arrow_back"),r(),a(7," Back to Customers "),r()(),o(8,"form",5),f("ngSubmit",function(){return n.onSubmit()}),o(9,"div",6)(10,"h6",7),a(11,"Customer Details"),r(),o(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),a(15,"Name"),r(),b(16,"input",10),r(),o(17,"mat-form-field",9)(18,"mat-label"),a(19,"Email"),r(),b(20,"input",11),r(),o(21,"mat-form-field",9)(22,"mat-label"),a(23,"Mobile No1"),r(),b(24,"input",12),r(),o(25,"mat-form-field",9)(26,"mat-label"),a(27,"Mobile No2"),r(),b(28,"input",13),r(),o(29,"mat-form-field",9)(30,"mat-label"),a(31,"GST No"),r(),b(32,"input",14),r(),s(33,mt,9,0,"div",15),r()(),o(34,"div",16)(35,"button",17),f("click",function(){return n.backToList()}),a(36,"Cancel"),r(),s(37,lt,2,0,"button",18),r()()()),t&2&&(m(3),d("",n.currentUserId?"Update":"Create New"," Customer"),m(5),u("formGroup",n.userForm),m(25),u("ngIf",n.currentUserId),m(4),u("ngIf",n._userService.hasAccess(ye(4,at,n.accessControls.CUSTOMER_CREATE,n.accessControls.CUSTOMER_UPDATE))))},dependencies:[D,R,A,K,J,Q,Le,H,O,j,z,q,G]})};function ct(i,e){if(i&1){let t=w();o(0,"button",30),f("click",function(){v(t);let l=h();return S(l.goTo("/customer/form"))}),o(1,"mat-icon",31),a(2,"add"),r(),a(3," Add Customer "),r()}}function ut(i,e){i&1&&(o(0,"th",32),a(1,"No."),r())}function dt(i,e){if(i&1&&(o(0,"td",33),a(1),r()),i&2){let t=e.index,n=h();m(),d(" ",n.pagination.pageIndex*n.pagination.pageSize+(t+1)," ")}}function pt(i,e){i&1&&(o(0,"th",34),a(1,"Name"),r())}function ft(i,e){if(i&1&&(o(0,"td",35),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t.name," ")}}function Ct(i,e){i&1&&(o(0,"th",34),a(1,"Mobile No1"),r())}function _t(i,e){if(i&1&&(o(0,"td",35),a(1),r()),i&2){let t,n=e.$implicit;m(),d(" ",(t=n.mobileNo1)!==null&&t!==void 0?t:"NA"," ")}}function ht(i,e){i&1&&(o(0,"th",34),a(1,"Mobile No2"),r())}function vt(i,e){if(i&1&&(o(0,"td",35),a(1),r()),i&2){let t,n=e.$implicit;m(),d(" ",(t=n.mobileNo2)!==null&&t!==void 0?t:"NA"," ")}}function St(i,e){i&1&&(o(0,"th",34),a(1,"Email"),r())}function gt(i,e){if(i&1&&(o(0,"td",35),a(1),r()),i&2){let t,n=e.$implicit;m(),d(" ",(t=n.email)!==null&&t!==void 0?t:"NA"," ")}}function bt(i,e){i&1&&(o(0,"th",36),a(1,"Action"),r())}function wt(i,e){if(i&1){let t=w();o(0,"button",39),f("click",function(){v(t);let l=h().$implicit,p=h();return S(p.goTo("/customer/form/"+l.id))}),o(1,"mat-icon"),a(2,"edit"),r()()}}function xt(i,e){if(i&1){let t=w();o(0,"td",37),f("click",function(l){return v(t),S(l.stopPropagation())}),s(1,wt,3,0,"button",38),r()}if(i&2){let t=h();m(),u("ngIf",t._userService.hasAccess(t.accessControls.CUSTOMER_UPDATE))}}function Et(i,e){i&1&&b(0,"tr",40)}function It(i,e){if(i&1&&(o(0,"tr",41)(1,"td",42),a(2," No data found "),r()()),i&2){let t=h();m(),L("colspan",t.displayedColumns.length)}}function yt(i,e){if(i&1){let t=w();o(0,"tr",43),f("click",function(){let l=v(t).$implicit,p=h();return S(p.goTo(p._userService.hasAccess(p.accessControls.CUSTOMER_READ_DETAILS)?"/customer/view/"+l.id:null))}),r()}}var ce=class i{constructor(e,t,n,l,p,x,y){this._fb=e;this._customerService=t;this._activatedRoute=n;this._router=l;this._utilService=p;this._storageService=x;this._userService=y}accessControls=I;sort;paginator;displayedColumns=["no","name","mobileNo1","mobileNo2","email","action"];dataSource=new se;pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0};searchForm;onDestroy=new be;urlParams=null;ngOnInit(){this.searchForm=this._fb.group({searchString:new g(null),status:new g(null),sortBy:new g(""),sortOrder:new g(""),shopId:new g(this._storageService.getCurrentShopAccess())}),this._activatedRoute.queryParams.pipe(de(this.onDestroy)).subscribe(e=>{try{let t=this._utilService.decode(e.q);this.urlParams=t;let n={};t?.page&&!this.pagination.pageIndex&&(this.pagination.pageIndex=parseInt(t?.page)),t?.size&&(this.pagination.pageSize=t?.size),t?.searchString&&!this.searchForm.value.searchString&&(n.searchString=t?.searchString),t?.status&&!this.searchForm.value.status&&(n.status=t?.status),t?.sortBy&&!this.searchForm.value.sortBy&&(n.sortBy=t?.sortBy),t?.sortOrder&&!this.searchForm.value.sortOrder&&(n.sortOrder=t?.sortOrder),t?.shopId&&!this.searchForm.value.shopId&&(n.shopId=t?.shopId),this.searchForm.patchValue(n)}catch(t){this._utilService.showErrorSnack(t)}}),this.searchForm.get("searchString")?.valueChanges.pipe(de(this.onDestroy),we(500),xe()).subscribe(e=>{this.resetPagination(),this.getCustomerList()}),this.getCustomerList()}resetPagination(){this.pagination.pageIndex=0}updateRoute(){let e={page:this.pagination.pageIndex,size:this.pagination.pageSize,searchString:this.searchForm.value.searchString??"",status:this.searchForm.value.status??"",sortBy:this.searchForm.value.sortBy??"",sortOrder:this.searchForm.value.sortOrder??""};this._router.navigate([],{replaceUrl:!0,relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(e)},queryParamsHandling:"merge"})}ngAfterViewInit(){this.urlParams?.sortBy&&this.urlParams?.sortOrder&&this.sort.sort({id:this.urlParams.sortBy,start:this.urlParams.sortOrder.toLowerCase()}),this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Records Per Page"}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}sortData(e){let t=e.direction,n=e.active;(!n||t==="")&&(n="",t=""),this.searchForm.patchValue({sortBy:n,sortOrder:t}),this.getCustomerList()}filterParams(){let e=new Ne;return e=e.append("skip",this.pagination.pageIndex*this.pagination.pageSize),e=e.append("limit",this.pagination.pageSize),this.searchForm.value.searchString&&(e=e.append("searchString",this.searchForm.value.searchString)),this.searchForm.value.status&&(e=e.append("status",this.searchForm.value.status)),this.searchForm.value.sortBy&&(e=e.append("sortBy",this.searchForm.value.sortBy)),this.searchForm.value.sortOrder&&(e=e.append("sortOrder",this.searchForm.value.sortOrder)),this.searchForm.value.shopId&&(e=e.append("shopId",this.searchForm.value.shopId)),this.updateRoute(),e}getCustomerList(){return E(this,null,function*(){try{let e=yield this._customerService.getCustomerList(this.filterParams());this.dataSource.data=e.items,this.paginator.pageIndex=this.pagination.pageIndex,this.paginator.length=e.count}catch(e){this._utilService.showErrorSnack(e)}})}pageChanged(e){this.pagination.pageSize=e.pageSize,this.pagination.pageIndex=e.pageIndex,this.getCustomerList()}goTo(e){e&&this._router.navigate([e],{relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(this.urlParams)}})}static \u0275fac=function(t){return new(t||i)(c($),c(k),c(M),c(N),c(V),c(B),c(F))};static \u0275cmp=T({type:i,selectors:[["app-customer-list"]],viewQuery:function(t,n){if(t&1&&(pe(X,5),pe(W,5)),t&2){let l;fe(l=Ce())&&(n.sort=l.first),fe(l=Ce())&&(n.paginator=l.first)}},decls:44,vars:10,consts:[["paginator",""],[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-extrabold","md:m-0"],["mat-raised-button","","color","primary","class","rounded",3,"click",4,"ngIf"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["matInput","","placeholder","Search","formControlName","searchString"],["matInput","","placeholder","Status","formControlName","status",3,"selectionChange"],[3,"value"],[1,"w-full","overflow-x-auto","bg-white","border","rounded-lg"],["mat-table","","matSort","",1,"w-full",3,"matSortChange","dataSource"],["matColumnDef","no"],["mat-header-cell","","width","80",4,"matHeaderCellDef"],["mat-cell","","width","80",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobileNo1"],["matColumnDef","mobileNo2"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end","mt-2"],[1,"bg-transparent",3,"page","pageSize","pageIndex","pageSizeOptions"],["mat-raised-button","","color","primary",1,"rounded",3,"click"],[1,"mr-1"],["mat-header-cell","","width","80"],["mat-cell","","width","80"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(t,n){if(t&1){let l=w();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Customers List"),r(),o(4,"div"),s(5,ct,4,0,"button",4),r()(),o(6,"form",5)(7,"div",6)(8,"mat-form-field",7),b(9,"input",8),r(),o(10,"mat-form-field",7)(11,"mat-select",9),f("selectionChange",function(){return v(l),n.resetPagination(),S(n.getCustomerList())}),o(12,"mat-option"),a(13,"All"),r(),o(14,"mat-option",10),a(15,"Active"),r(),o(16,"mat-option",10),a(17,"Inactive"),r()()()()(),o(18,"div",11)(19,"table",12),f("matSortChange",function(x){return v(l),S(n.sortData(x))}),C(20,13),s(21,ut,2,0,"th",14)(22,dt,2,1,"td",15),_(),C(23,16),s(24,pt,2,0,"th",17)(25,ft,2,1,"td",18),_(),C(26,19),s(27,Ct,2,0,"th",17)(28,_t,2,1,"td",18),_(),C(29,20),s(30,ht,2,0,"th",17)(31,vt,2,1,"td",18),_(),C(32,21),s(33,St,2,0,"th",17)(34,gt,2,1,"td",18),_(),C(35,22),s(36,bt,2,0,"th",23)(37,xt,2,1,"td",24),_(),s(38,Et,1,0,"tr",25)(39,It,3,1,"tr",26)(40,yt,1,0,"tr",27),r()(),o(41,"div",28)(42,"mat-paginator",29,0),f("page",function(x){return v(l),S(n.pageChanged(x))}),r()()()}t&2&&(m(5),u("ngIf",n._userService.hasAccess(n.accessControls.CUSTOMER_CREATE)),m(),u("formGroup",n.searchForm),m(8),u("value","Active"),m(2),u("value","Inactive"),m(3),u("dataSource",n.dataSource),m(19),u("matHeaderRowDef",n.displayedColumns),m(2),u("matRowDefColumns",n.displayedColumns),m(2),u("pageSize",n.pagination.pageSize)("pageIndex",n.pagination.pageIndex)("pageSizeOptions",n.pagination.pageSizeOptions))},dependencies:[D,Ve,R,Fe,A,K,J,W,Ue,X,Be,Y,ee,oe,te,Z,ne,ie,re,ae,me,le,H,O,j,z,q,G]})};function Tt(i,e){if(i&1){let t=w();o(0,"button",33),f("click",function(){v(t);let l=h();return S(l.editConfirm())}),a(1," Edit "),o(2,"mat-icon",4),a(3,"edit"),r()()}}function Dt(i,e){if(i&1){let t=w();o(0,"button",34),f("click",function(){v(t);let l=h();return S(l.deleteCustomer())}),a(1," Delete "),o(2,"mat-icon",4),a(3,"delete"),r()()}}function Mt(i,e){i&1&&(o(0,"p",35),a(1," Active "),r())}function Nt(i,e){i&1&&(o(0,"p",36),a(1," Inactive "),r())}function Rt(i,e){if(i&1){let t=w();o(0,"button",33),f("click",function(){v(t);let l=h();return S(l.goToCreateInvoice())}),a(1," Create"),o(2,"mat-icon",4),a(3,"add"),r()()}}function Vt(i,e){i&1&&(o(0,"th",37),a(1,"Invoice No"),r())}function Ft(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t.invoiceNo," ")}}function At(i,e){i&1&&(o(0,"th",37),a(1,"Invoice Date"),r())}function kt(i,e){if(i&1&&(o(0,"td",38),a(1),_e(2,"date"),r()),i&2){let t=e.$implicit;m(),d(" ",he(2,1,t.invoiceDate,"dd/MM/yyyy")," ")}}function Pt(i,e){i&1&&(o(0,"th",37),a(1,"Company Name"),r())}function Ut(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t==null?null:t.companyName," ")}}function Lt(i,e){i&1&&(o(0,"th",37),a(1,"Model No"),r())}function Bt(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t==null?null:t.modelNo," ")}}function Ot(i,e){i&1&&(o(0,"th",37),a(1,"Invoice Total"),r())}function jt(i,e){if(i&1&&(o(0,"td",38),a(1),_e(2,"number"),r()),i&2){let t=e.$implicit;m(),d(" ",he(2,1,t==null?null:t.invoiceTotal,"2.2")," ")}}function zt(i,e){i&1&&(o(0,"th",37),a(1,"Issued Shop"),r())}function Ht(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t==null||t.shopInfo==null?null:t.shopInfo.name," ")}}function qt(i,e){i&1&&(o(0,"th",37),a(1,"Created By"),r())}function Gt(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t==null||t.createdBy==null?null:t.createdBy.name," ")}}function $t(i,e){i&1&&(o(0,"th",37),a(1,"Updated By"),r())}function Qt(i,e){if(i&1&&(o(0,"td",38),a(1),r()),i&2){let t=e.$implicit;m(),d(" ",t==null||t.updatedBy==null?null:t.updatedBy.name," ")}}function Jt(i,e){i&1&&b(0,"tr",39)}function Kt(i,e){if(i&1&&(o(0,"tr",40)(1,"td",41),a(2," No data found "),r()()),i&2){let t=h();m(),L("colspan",t.displayedColumns.length)}}function Wt(i,e){if(i&1){let t=w();o(0,"tr",42),f("click",function(){let l=v(t).$implicit,p=h();return S(p.goTo(p._userService.hasAccess(p.accessControls.INVOICE_READ_DETAILS)?"/invoice/view/"+l.id:null))}),r()}}var ue=class i{constructor(e,t,n,l,p,x,y){this._activatedRoute=e;this._router=t;this._utilService=n;this._customerService=l;this._invoiceService=p;this._dialog=x;this._userService=y}accessControls=I;customerId=null;customer=null;displayedColumns=["invoiceNo","invoiceDate","companyName","modelNo","invoiceTotal","shopInfo","createdBy","updatedBy"];dataSource=new se;urlParams=null;ngOnInit(){this._activatedRoute.paramMap.subscribe(e=>{this.customerId=e.get("id")??"",this.loadPreData()}),this._activatedRoute.queryParams.subscribe(e=>{this.urlParams=e})}loadPreData(){return E(this,null,function*(){try{if(this.customerId){this.customer=yield this._customerService.getCustomerById(this.customerId);let e=yield this._invoiceService.getInvoiceListByCustomerAndShop({customerId:this.customer.id,shopId:this.customer.shopId});this.dataSource.data=e.items}}catch(e){console.error(e),this._utilService.showErrorSnack(e)}})}goTo(e){e&&this._router.navigate([e],{relativeTo:this._activatedRoute,queryParams:this.urlParams})}goToCreateInvoice(){let e=this._utilService.decode(this.urlParams.q),t=ge({customerId:this.customerId},e);this._router.navigate(["/invoice/form"],{relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(t)}})}editConfirm(){this._dialog.open(je,{data:{title:"Are sure you want to edit this customer details?"}}).afterClosed().subscribe(t=>E(this,null,function*(){t&&this.goTo("/customer/form/"+this.customerId)}))}deleteCustomer(){this._dialog.open(ze,{data:{title:"Are sure you want to delete this Customer?"}}).afterClosed().subscribe(t=>E(this,null,function*(){if(t)try{yield this._customerService.deleteCustomer(this.customerId),this._utilService.showSuccessSnack("Customer deleted successfully"),this.goTo("/customer")}catch(n){this._utilService.showErrorSnack(n)}}))}static \u0275fac=function(t){return new(t||i)(c(M),c(N),c(V),c(k),c(He),c(Pe),c(F))};static \u0275cmp=T({type:i,selectors:[["app-view-customer"]],decls:81,vars:13,consts:[[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","md:m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[1,"bg-white","border","rounded-md"],[1,"md:flex","justify-between","w-full","items-center","border-b"],[1,"text-base","font-semibold","py-3","px-6","m-0"],["mat-raised-button","","color","primary","class","rounded mr-5 m-2",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn","class","rounded mr-5",3,"click",4,"ngIf"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-5","p-6","text-sm","font-light"],[1,"text-secondary"],[1,"mt-2","mb-0","font-medium"],["class","mt-2 mb-0 font-medium bg-[#CCEEC1] border border-[#54C632] rounded-full w-fit px-4 py-1",4,"ngIf"],["class","mt-2 mb-0 font-medium bg-[#ff7f7f] border border-[#FF0000] rounded-full w-fit px-4 py-1",4,"ngIf"],[1,"bg-white","border","rounded-md","mt-6"],[1,"md:flex","justify-between","w-full","border-b","items-center"],[1,"p-6"],[1,"w-full","overflow-x-hidden","bg-white","border","rounded-lg","mt-1"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","invoiceNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoiceDate"],["matColumnDef","companyName"],["matColumnDef","modelNo"],["matColumnDef","invoiceTotal"],["matColumnDef","shopInfo"],["matColumnDef","createdBy"],["matColumnDef","updatedBy"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"click"],["mat-stroked-button","","color","warn",1,"rounded","mr-5",3,"click"],[1,"mt-2","mb-0","font-medium","bg-[#CCEEC1]","border","border-[#54C632]","rounded-full","w-fit","px-4","py-1"],[1,"mt-2","mb-0","font-medium","bg-[#ff7f7f]","border","border-[#FF0000]","rounded-full","w-fit","px-4","py-1"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Customer & Invoice"),r(),o(4,"button",3),f("click",function(){return n.goTo("/customer")}),o(5,"mat-icon",4),a(6,"arrow_back"),r(),a(7," Back to Customers "),r()(),o(8,"div",5)(9,"div",6)(10,"h6",7),a(11,"Customer Details"),r(),o(12,"div"),s(13,Tt,4,0,"button",8)(14,Dt,4,0,"button",9),r()(),o(15,"div",10)(16,"div")(17,"mat-label",11),a(18,"Customer Name"),r(),o(19,"p",12),a(20),r()(),o(21,"div")(22,"mat-label",11),a(23,"Mobile No1"),r(),o(24,"p",12),a(25),r()(),o(26,"div")(27,"mat-label",11),a(28,"Mobile No2"),r(),o(29,"p",12),a(30),r()(),o(31,"div")(32,"mat-label",11),a(33,"Email"),r(),o(34,"p",12),a(35),r()(),o(36,"div")(37,"mat-label",11),a(38,"GST No"),r(),o(39,"p",12),a(40),r()(),o(41,"div")(42,"mat-label",11),a(43,"Status"),r(),s(44,Mt,2,0,"p",13)(45,Nt,2,0,"p",14),r()()(),o(46,"div",15)(47,"div",16)(48,"h6",7),a(49,"Invoices"),r(),s(50,Rt,4,0,"button",8),r(),o(51,"div",17)(52,"div",18)(53,"table",19),C(54,20),s(55,Vt,2,0,"th",21)(56,Ft,2,1,"td",22),_(),C(57,23),s(58,At,2,0,"th",21)(59,kt,3,4,"td",22),_(),C(60,24),s(61,Pt,2,0,"th",21)(62,Ut,2,1,"td",22),_(),C(63,25),s(64,Lt,2,0,"th",21)(65,Bt,2,1,"td",22),_(),C(66,26),s(67,Ot,2,0,"th",21)(68,jt,3,4,"td",22),_(),C(69,27),s(70,zt,2,0,"th",21)(71,Ht,2,1,"td",22),_(),C(72,28),s(73,qt,2,0,"th",21)(74,Gt,2,1,"td",22),_(),C(75,29),s(76,$t,2,0,"th",21)(77,Qt,2,1,"td",22),_(),s(78,Jt,1,0,"tr",30)(79,Kt,3,1,"tr",31)(80,Wt,1,0,"tr",32),r()()()()()),t&2){let l,p,x,y;m(13),u("ngIf",n._userService.hasAccess(n.accessControls.CUSTOMER_UPDATE)),m(),u("ngIf",n._userService.hasAccess(n.accessControls.CUSTOMER_DELETE)),m(6),d(" ",n.customer==null?null:n.customer.name," "),m(5),d(" ",(l=n.customer==null?null:n.customer.mobileNo1)!==null&&l!==void 0?l:"NA"," "),m(5),d(" ",(p=n.customer==null?null:n.customer.mobileNo2)!==null&&p!==void 0?p:"NA"," "),m(5),d(" ",(x=n.customer==null?null:n.customer.email)!==null&&x!==void 0?x:"NA"," "),m(5),d(" ",(y=n.customer==null?null:n.customer.gstNo)!==null&&y!==void 0?y:"NA"," "),m(4),u("ngIf",n.customer==null?null:n.customer.active),m(),u("ngIf",!(n.customer!=null&&n.customer.active)),m(5),u("ngIf",n._userService.hasAccess(n.accessControls.INVOICE_CREATE)),m(3),u("dataSource",n.dataSource),m(25),u("matHeaderRowDef",n.displayedColumns),m(2),u("matRowDefColumns",n.displayedColumns)}},dependencies:[D,R,A,Q,Y,ee,oe,te,Z,ne,ie,re,ae,me,le,De,Te]})};var Xt=[{path:"",component:ce,canActivate:[P("CUSTOMER_READ_LIST")]},{path:"form",component:U,canActivate:[P("CUSTOMER_CREATE")]},{path:"form/:id",component:U,canActivate:[P("CUSTOMER_UPDATE")]},{path:"view/:id",component:ue,canActivate:[P("CUSTOMER_READ_DETAILS")]}],et=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ie({type:i});static \u0275inj=Ee({imports:[Me,Oe,Ae,ke,Re.forChild(Xt)]})};export{et as CustomerModule};
