import{a as Re,b as me}from"./chunk-RLEHWKGY.js";import{a as $e}from"./chunk-DNOF3OWT.js";import{a as bt}from"./chunk-ICTX5VMD.js";import{a as Rt,b as xt}from"./chunk-DO37JCVR.js";import{a as se}from"./chunk-A4PXGTKS.js";import{a as Ie}from"./chunk-N6AUWC32.js";import{a as A,d as dt,e as He,f as O}from"./chunk-FF4N62Y4.js";import{A as ht,B as ae,D as P,E as le,F as gt,G as _t,H as St,I as It,K as ye,L as Ct,S as be,U as k,ba as R,ca as xe,d as ge,da as we,e as _e,ea as Me,f as Ge,fa as De,g as Se,ga as Ee,h as J,ha as Te,ia as Ne,ja as Fe,k as Z,ka as Ae,l as F,la as Ve,m as ee,ma as Oe,n as te,na as Pe,o as p,oa as ke,p as ie,q as pt,qa as yt,r as ne,s as oe,t as re,v as ut,w as vt,x as Ce,z as ft}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{b as fe,j as K,l as he,p as ct}from"./chunk-TN7LRJOG.js";import{i as rt,l as at,m as ve,o as lt,r as mt,s as X,t as st}from"./chunk-MKB6ZC6F.js";import{$b as $,Aa as g,Ab as v,Ba as _,Fb as j,Jb as o,Kb as n,Lb as S,Mb as x,N as L,Nb as w,Pb as M,S as B,Vb as h,Xb as I,a as Je,ac as Q,ba as N,bc as W,eb as m,ec as tt,f as pe,fb as u,fc as r,g as D,gc as E,ha as Ze,hc as s,ia as ze,ic as it,ka as et,m as G,ma as Ue,mc as nt,ra as V,rc as C,sa as qe,sc as ot,tc as y,vb as f,zb as ue}from"./chunk-L2AW7WK7.js";var Lt=pe(He(),1),wt=pe(He(),1),Y=wt.default||Lt,Bt=new et("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:jt});function jt(){return{useUtc:!1}}function Yt(a,t){let i=Array(a);for(let e=0;e<a;e++)i[e]=t(e);return i}var Mt=(()=>{let t=class t extends _e{constructor(e,l){super(),this._options=l,this.setLocale(e||Y.locale())}setLocale(e){super.setLocale(e);let l=Y.localeData(e);this._localeData={firstDayOfWeek:l.firstDayOfWeek(),longMonths:l.months(),shortMonths:l.monthsShort(),dates:Yt(31,c=>this.createDate(2017,0,c+1).format("D")),longDaysOfWeek:l.weekdays(),shortDaysOfWeek:l.weekdaysShort(),narrowDaysOfWeek:l.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,l,c){let d=this._createMoment({year:e,month:l,date:c}).locale(this.locale);return d.isValid(),d}today(){return this._createMoment().locale(this.locale)}parse(e,l){return e&&typeof e=="string"?this._createMoment(e,l,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,l){return e=this.clone(e),this.isValid(e),e.format(l)}addCalendarYears(e,l){return this.clone(e).add({years:l})}addCalendarMonths(e,l){return this.clone(e).add({months:l})}addCalendarDays(e,l){return this.clone(e).add({days:l})}toIso8601(e){return this.clone(e).format()}deserialize(e){let l;if(e instanceof Date)l=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;l=this._createMoment(e,Y.ISO_8601).locale(this.locale)}return l&&this.isValid(l)?this._createMoment(l).locale(this.locale):super.deserialize(e)}isDateInstance(e){return Y.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return Y.invalid()}_createMoment(e,l,c){let{strict:d,useUtc:b}=this._options||{};return b?Y.utc(e,l,c,d):Y(e,l,c,d)}};t.\u0275fac=function(l){return new(l||t)(Ue(ge,8),Ue(Bt,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac});let a=t;return a})();var Vt=pe(Rt()),Ot=pe(He());function Ht(a,t){if(a&1){let i=M();o(0,"button",44),h("click",function(){g(i);let l=I();return _(l.onPrint())}),r(1," Print"),o(2,"mat-icon",5),r(3,"print"),n()()}if(a&2){let i=I();v("disabled",!i.submitEnable)}}function Gt(a,t){if(a&1&&(o(0,"mat-option",45),r(1),n()),a&2){let i=t.$implicit;v("value",i.value),m(),s(" ",i.value," ")}}function $t(a,t){a&1&&(o(0,"mat-form-field",29)(1,"mat-label"),r(2,"HSN Code"),n(),S(3,"input",46),n())}function Qt(a,t){if(a&1&&(o(0,"tr",40)(1,"td",41),r(2),n(),o(3,"td",42),r(4),C(5,"number"),n()(),o(6,"tr",40)(7,"td",41),r(8),n(),o(9,"td",42),r(10),C(11,"number"),n()()),a&2){let i,e,l,c,d=I();m(2),s("SGST Total (",(i=d.shop==null?null:d.shop.sgst)!==null&&i!==void 0?i:0,"%)"),m(2),E(y(5,4,(e=d.invoiceForm.get("sgstTotal"))==null?null:e.value,"2.2")),m(4),s("CGST Total (",(l=d.shop==null?null:d.shop.cgst)!==null&&l!==void 0?l:0,"%)"),m(2),E(y(11,7,(c=d.invoiceForm.get("cgstTotal"))==null?null:c.value,"2.2"))}}var Wt={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},de=class a{constructor(t,i,e,l,c,d,b){this._activatedRoute=t;this._fb=i;this._utilService=e;this._invoiceService=l;this._shopService=c;this._location=d;this._customerService=b}accessControls=A;invoiceForm;submitEnable=!0;invoiceId=null;invoice=null;urlParams=null;customerId=null;shop=null;customer=null;invoiceTypeEnum=$e;onDestroy=new G;ngOnInit(){this.initializeForm(),this._activatedRoute.paramMap.pipe(N(this.onDestroy)).subscribe(t=>{this.invoiceId=t.get("id")}),this._activatedRoute.queryParams.pipe(N(this.onDestroy)).subscribe(t=>{let i=this._utilService.decode(t.q);this.urlParams=i,this.customerId=this.urlParams.customerId}),this.loadPreData()}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}initializeForm(){this.invoiceForm=this._fb.group({invoiceNo:new p(null,[F.required]),invoiceType:new p(null,[F.required]),invoiceDate:new p((0,Ot.default)().toISOString(),[F.required]),invoicePrefix:new p(null),subTotal:new p(0),sgstTotal:new p(0),cgstTotal:new p(0),invoiceTotal:new p(0),companyName:new p(null,[F.required]),modelNo:new p(null,[F.required]),serialNo1:new p(null),serialNo2:new p(null),hsnCode:new p(null),quantity:new p(1,[F.required]),price:new p(null,[F.required]),total:new p(0),roundingOff:new p(0),customerId:new p(null,[F.required]),shopId:new p(null,[F.required])}),this.invoiceForm.get("quantity")?.valueChanges.pipe(N(this.onDestroy),L(200),B()).subscribe(t=>{this.calculateTotal()}),this.invoiceForm.get("price")?.valueChanges.pipe(N(this.onDestroy),L(200),B()).subscribe(t=>{this.calculateTotal()})}get f(){return this.invoiceForm.controls}get isTaxInvoiceType(){return this.invoiceForm.controls.invoiceType.value=="Tax Invoice"}onChangeInvoiceType(t){this.calculateTotal()}calculateTotal(){let t=this.invoiceForm.get("quantity")?.value??0,i=this.invoiceForm.get("price")?.value??0;if(this.isTaxInvoiceType&&this.shop){let e=t*i;this.invoiceForm.get("total")?.setValue(e);let l=e*this.shop.sgst/100,c=e*this.shop.cgst/100,d=e+l+c,b=Math.round(d),T=b-d;this.invoiceForm.get("cgstTotal")?.setValue(c),this.invoiceForm.get("sgstTotal")?.setValue(l),this.invoiceForm.get("subTotal")?.setValue(d),this.invoiceForm.get("roundingOff")?.setValue(T),this.invoiceForm.get("invoiceTotal")?.setValue(b)}else{let e=t*i;this.invoiceForm.get("total")?.setValue(e);let l=e,c=Math.round(l),d=c-l;this.invoiceForm.get("subTotal")?.setValue(l),this.invoiceForm.get("roundingOff")?.setValue(d),this.invoiceForm.get("invoiceTotal")?.setValue(c)}}loadPreData(){return D(this,null,function*(){try{if(this.invoiceId)this.invoice=yield this._invoiceService.getInvoiceById(this.invoiceId),this.shop=yield this._shopService.getShopById(this.invoice.shopId),this.customer=yield this._customerService.getCustomerById(this.invoice.customerId),this.invoiceForm.patchValue(this.invoice);else{let t=null;if(this.customerId&&(this.customer=yield this._customerService.getCustomerById(this.customerId),t=this.customer.shopId),t){this.shop=yield this._shopService.getShopById(t);let i=yield this._invoiceService.getLatestInvoiceNo(t);this.invoiceForm.patchValue({invoiceType:this.shop?.invoiceType,invoicePrefix:this.shop?.invoicePrefix,invoiceNo:i?.expectedInvoiceNo,customerId:this.customerId,shopId:t})}}}catch(t){this._utilService.showErrorSnack(t)}})}onSave(){return D(this,null,function*(){if(this.invoiceForm.invalid){this.invoiceForm.markAllAsTouched();return}try{this.submitEnable=!1;let i;if(this.invoiceId){var t=(0,Vt.cloneDeep)(this.invoiceForm.value);t.id=this.invoiceId,i=yield this._invoiceService.updateInvoice(t)}else i=yield this._invoiceService.createInvoice(this.invoiceForm.value),this.invoiceId=i?.invoice?.id;this._utilService.showSuccessSnack(i?.message??"")}catch(i){this._utilService.showErrorSnack(i)}finally{this.submitEnable=!0}})}onPrint(){return D(this,null,function*(){if(this.invoiceId)try{yield this._invoiceService.printInvoice(this.invoiceId)}catch(t){this._utilService.showErrorSnack(t)}})}static \u0275fac=function(i){return new(i||a)(u(K),u(re),u(O),u(me),u(bt),u(rt),u(Re))};static \u0275cmp=V({type:a,selectors:[["app-create-invoice"]],features:[nt([{provide:_e,useClass:Mt,deps:[ge]},{provide:Ge,useValue:Wt}])],decls:123,vars:32,consts:[["picker",""],[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","md:m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[1,"bg-white","border","rounded-md"],[1,"md:flex","justify-between","w-full","items-center","border-b"],[1,"text-base","font-semibold","py-3","px-6","m-0"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-5","p-6","text-sm","font-light"],[1,"text-secondary"],[1,"mt-2","mb-0","font-medium"],[1,"bg-white","border","rounded-md","mt-6"],[1,"md:flex","justify-between","w-full","border-b","items-center"],["mat-raised-button","","color","primary",1,"rounded","mr-3","m-2",3,"click","disabled"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"disabled"],[3,"formGroup"],[1,"p-6"],[1,"md:flex","justify-end"],["floatLabel","always",1,"md:w-2/12","w-full","md:mr-5"],["placeholder","Invoice Type","formControlName","invoiceType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["matInput","","formControlName","invoiceNo","placeholder","Invoice No"],["floatLabel","always",1,"md:w-2/12","w-full"],["matInput","","formControlName","invoiceDate","placeholder","Invoice Date","readonly","",3,"matDatepicker"],["matIconSuffix","",3,"for"],[1,"md:flex","w-full","overflow-x-hidden","bg-white","border","rounded-lg","mt-1","p-3"],[1,"md:w-4/12","p-3"],["floatLabel","always",1,"w-full"],["matInput","","formControlName","companyName","placeholder","Company Name"],["matInput","","formControlName","serialNo2","placeholder","Serial No2"],["matInput","","formControlName","modelNo","placeholder","Model No"],["matInput","","formControlName","serialNo1","placeholder","Serial No1"],[1,"md:flex","w-full","overflow-x-hidden","bg-white","border","rounded-lg","mt-3","p-3"],["matInput","","type","number","formControlName","quantity","placeholder","Quantity"],["matInput","","type","number","formControlName","price","placeholder","Price"],["matInput","","formControlName","total","placeholder","Total","readonly","true"],[1,"md:flex","justify-end","mt-6"],[1,"bg-white","border","rounded-lg","p-3"],[1,"border-b"],[1,"p-3","md:flex","justify-end"],[1,"p-3","text-primary","text-xl"],[1,"p-3","text-primary","text-xl","font-bold"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"click","disabled"],[3,"value"],["matInput","","formControlName","hsnCode","placeholder","HSN Code"]],template:function(i,e){if(i&1){let l=M();o(0,"div",1)(1,"div",2)(2,"h2",3),r(3),n(),o(4,"button",4),h("click",function(){return g(l),_(e._location.back())}),o(5,"mat-icon",5),r(6,"arrow_back"),n(),r(7," Back to Invoices "),n()(),o(8,"div",6)(9,"div",7)(10,"h6",8),r(11,"Customer Details"),n()(),o(12,"div",9)(13,"div")(14,"mat-label",10),r(15,"Customer Name"),n(),o(16,"p",11),r(17),n()(),o(18,"div")(19,"mat-label",10),r(20,"Mobile No1"),n(),o(21,"p",11),r(22),n()(),o(23,"div")(24,"mat-label",10),r(25,"Mobile No2"),n(),o(26,"p",11),r(27),n()(),o(28,"div")(29,"mat-label",10),r(30,"Email"),n(),o(31,"p",11),r(32),n()(),o(33,"div")(34,"mat-label",10),r(35,"GST No"),n(),o(36,"p",11),r(37),n()()()(),o(38,"div",12)(39,"div",13)(40,"h6",8),r(41),n(),o(42,"div")(43,"button",14),h("click",function(){return g(l),_(e.onSave())}),r(44),o(45,"mat-icon",5),r(46,"save"),n()(),f(47,Ht,4,1,"button",15),n()(),o(48,"form",16)(49,"div",17)(50,"div",18)(51,"mat-form-field",19)(52,"mat-select",20),h("selectionChange",function(d){return g(l),_(e.onChangeInvoiceType(d))}),f(53,Gt,2,2,"mat-option",21),C(54,"keyvalue"),n()(),o(55,"mat-form-field",19)(56,"div",22),r(57),n(),S(58,"input",23),n(),o(59,"mat-form-field",24),S(60,"input",25)(61,"mat-datepicker-toggle",26)(62,"mat-datepicker",null,0),n()(),o(64,"div",27)(65,"div",28)(66,"mat-form-field",29)(67,"mat-label"),r(68,"Company Name"),n(),S(69,"input",30),n(),o(70,"mat-form-field",29)(71,"mat-label"),r(72,"Serial No2"),n(),S(73,"input",31),n()(),o(74,"div",28)(75,"mat-form-field",29)(76,"mat-label"),r(77,"Model No"),n(),S(78,"input",32),n(),f(79,$t,4,0,"mat-form-field",29),n(),o(80,"div",28)(81,"mat-form-field",29)(82,"mat-label"),r(83,"Serial No1"),n(),S(84,"input",33),n()()(),o(85,"div",34)(86,"div",28)(87,"mat-form-field",29)(88,"mat-label"),r(89,"Quantity"),n(),S(90,"input",35),n()(),o(91,"div",28)(92,"mat-form-field",29)(93,"mat-label"),r(94,"Price"),n(),S(95,"input",36),n()(),o(96,"div",28)(97,"mat-form-field",29)(98,"mat-label"),r(99,"Total"),n(),S(100,"input",37),n()()(),o(101,"div",38)(102,"div",39)(103,"table"),f(104,Qt,12,10),o(105,"tr",40)(106,"td",41),r(107,"Sub Total"),n(),o(108,"td",42),r(109),C(110,"number"),n()(),o(111,"tr",40)(112,"td",41),r(113,"Rounding Off"),n(),o(114,"td",42),r(115),C(116,"number"),n()(),o(117,"tr")(118,"td",41),r(119,"Grand Total"),n(),o(120,"td",43),r(121),C(122,"number"),n()()()()()()()()()}if(i&2){let l,c,d,b,T,z,U,q,H=tt(63);m(3),s("",e.invoiceId?"Update":"Create New"," Invoice"),m(14),s(" ",e.customer==null?null:e.customer.name," "),m(5),s(" ",(l=e.customer==null?null:e.customer.mobileNo1)!==null&&l!==void 0?l:"NA"," "),m(5),s(" ",(c=e.customer==null?null:e.customer.mobileNo2)!==null&&c!==void 0?c:"NA"," "),m(5),s(" ",(d=e.customer==null?null:e.customer.email)!==null&&d!==void 0?d:"NA"," "),m(5),s(" ",(b=e.customer==null?null:e.customer.gstNo)!==null&&b!==void 0?b:"NA"," "),m(4),s("Invoices By (",(T=e.shop==null?null:e.shop.name)!==null&&T!==void 0?T:"",")"),m(2),v("disabled",!e.submitEnable),m(),s(" ",e.invoiceId?"Update":"Save",""),m(3),j(e.invoiceId?47:-1),m(),v("formGroup",e.invoiceForm),m(5),v("ngForOf",ot(54,21,e.invoiceTypeEnum)),m(4),it(" ",e.invoiceForm.controls.invoicePrefix.value,"",e.invoiceForm.controls.invoicePrefix.value?"-":"",""),m(3),v("matDatepicker",H),m(),v("for",H),m(18),j(e.isTaxInvoiceType?79:-1),m(25),j(e.isTaxInvoiceType?104:-1),m(5),E(y(110,23,(z=e.invoiceForm.get("subTotal"))==null?null:z.value,"2.2")),m(6),E(y(116,26,(U=e.invoiceForm.get("roundingOff"))==null?null:U.value,"2.2")),m(6),s(" ",y(122,29,(q=e.invoiceForm.get("invoiceTotal"))==null?null:q.value,"2.2"),"")}},dependencies:[at,Se,J,gt,_t,St,P,le,ae,Ce,ft,ht,be,ie,Z,pt,ee,te,ne,oe,X,mt],styles:["[_nghost-%COMP%]{display:block}"]})};function Zt(a,t){a&1&&(o(0,"th",28),r(1,"No."),n())}function ei(a,t){if(a&1&&(o(0,"td",29),r(1),n()),a&2){let i=t.index,e=I();m(),s(" ",e.pagination.pageIndex*e.pagination.pageSize+(i+1)," ")}}function ti(a,t){a&1&&(o(0,"th",30),r(1,"Name"),n())}function ii(a,t){if(a&1&&(o(0,"td",31),r(1),n()),a&2){let i=t.$implicit;m(),s(" ",i.name," ")}}function ni(a,t){a&1&&(o(0,"th",30),r(1,"Mobile No1"),n())}function oi(a,t){if(a&1&&(o(0,"td",31),r(1),n()),a&2){let i,e=t.$implicit;m(),s(" ",(i=e.mobileNo1)!==null&&i!==void 0?i:"NA"," ")}}function ri(a,t){a&1&&(o(0,"th",30),r(1,"Mobile No2"),n())}function ai(a,t){if(a&1&&(o(0,"td",31),r(1),n()),a&2){let i,e=t.$implicit;m(),s(" ",(i=e.mobileNo2)!==null&&i!==void 0?i:"NA"," ")}}function li(a,t){a&1&&(o(0,"th",30),r(1,"Email"),n())}function mi(a,t){if(a&1&&(o(0,"td",31),r(1),n()),a&2){let i,e=t.$implicit;m(),s(" ",(i=e.email)!==null&&i!==void 0?i:"NA"," ")}}function si(a,t){a&1&&S(0,"tr",32)}function ci(a,t){if(a&1&&(o(0,"tr",33)(1,"td",34),r(2," No data found "),n()()),a&2){let i=I();m(),ue("colspan",i.displayedColumns.length)}}function di(a,t){if(a&1){let i=M();o(0,"tr",35),h("click",function(){let l=g(i).$implicit,c=I();return _(c.openInvoicePage(l.id))}),n()}}var Le=class a{constructor(t,i,e,l){this._fb=t;this._customerService=i;this._utilService=e;this._dialogRef=l}accessControls=A;sort;paginator;displayedColumns=["no","name","mobileNo1","mobileNo2","email"];dataSource=new ke;pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0};searchForm;onDestroy=new G;urlParams=null;ngOnInit(){this.searchForm=this._fb.group({searchString:new p(null),status:new p(null),sortBy:new p(""),sortOrder:new p("")}),this.searchForm.get("searchString")?.valueChanges.pipe(N(this.onDestroy),L(500),B()).subscribe(t=>{this.resetPagination(),this.getCustomerList()}),this.getCustomerList()}resetPagination(){this.pagination.pageIndex=0}ngAfterViewInit(){this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Records Per Page"}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}sortData(t){let i=t.direction,e=t.active;(!e||i==="")&&(e="",i=""),this.searchForm.patchValue({sortBy:e,sortOrder:i}),this.getCustomerList()}filterParams(){let t=new fe;return t=t.append("skip",this.pagination.pageIndex*this.pagination.pageSize),t=t.append("limit",this.pagination.pageSize),this.searchForm.value.searchString&&(t=t.append("searchString",this.searchForm.value.searchString)),this.searchForm.value.status&&(t=t.append("status",this.searchForm.value.status)),this.searchForm.value.sortBy&&(t=t.append("sortBy",this.searchForm.value.sortBy)),this.searchForm.value.sortOrder&&(t=t.append("sortOrder",this.searchForm.value.sortOrder)),t}getCustomerList(){return D(this,null,function*(){try{let t=yield this._customerService.getCustomerList(this.filterParams());this.dataSource.data=t.items,this.paginator.pageIndex=this.pagination.pageIndex,this.paginator.length=t.count}catch(t){this._utilService.showErrorSnack(t)}})}pageChanged(t){this.pagination.pageSize=t.pageSize,this.pagination.pageIndex=t.pageIndex,this.getCustomerList()}openInvoicePage(t){this._dialogRef.close(t)}static \u0275fac=function(i){return new(i||a)(u(re),u(Re),u(O),u(It))};static \u0275cmp=V({type:a,selectors:[["app-select-customer-dialog"]],viewQuery:function(i,e){if(i&1&&($(R,5),$(k,5)),i&2){let l;Q(l=W())&&(e.sort=l.first),Q(l=W())&&(e.paginator=l.first)}},decls:43,vars:9,consts:[["paginator",""],[1,"w-full"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-extrabold","md:m-0"],["mat-dialog-close","",1,"rounded"],[1,"mr-1"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-3","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["matInput","","placeholder","Search","formControlName","searchString"],["matInput","","placeholder","Status","formControlName","status",3,"selectionChange"],[3,"value"],[1,"w-full","overflow-x-auto","bg-white","border","rounded-lg"],["mat-table","","matSort","",1,"w-full",3,"matSortChange","dataSource"],["matColumnDef","no"],["mat-header-cell","","width","80",4,"matHeaderCellDef"],["mat-cell","","width","80",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobileNo1"],["matColumnDef","mobileNo2"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end","mt-2"],[1,"bg-transparent",3,"page","pageSize","pageIndex","pageSizeOptions"],["mat-header-cell","","width","80"],["mat-cell","","width","80"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(i,e){if(i&1){let l=M();o(0,"div",1)(1,"div",2)(2,"h2",3),r(3,"Select Customer"),n(),o(4,"div")(5,"button",4)(6,"mat-icon",5),r(7,"close"),n()()()(),o(8,"form",6)(9,"div",7)(10,"mat-form-field",8),S(11,"input",9),n(),o(12,"mat-form-field",8)(13,"mat-select",10),h("selectionChange",function(){return g(l),e.resetPagination(),_(e.getCustomerList())}),o(14,"mat-option"),r(15,"All"),n(),o(16,"mat-option",11),r(17,"Active"),n(),o(18,"mat-option",11),r(19,"Inactive"),n()()()()(),o(20,"div",12)(21,"table",13),h("matSortChange",function(d){return g(l),_(e.sortData(d))}),x(22,14),f(23,Zt,2,0,"th",15)(24,ei,2,1,"td",16),w(),x(25,17),f(26,ti,2,0,"th",18)(27,ii,2,1,"td",19),w(),x(28,20),f(29,ni,2,0,"th",18)(30,oi,2,1,"td",19),w(),x(31,21),f(32,ri,2,0,"th",18)(33,ai,2,1,"td",19),w(),x(34,22),f(35,li,2,0,"th",18)(36,mi,2,1,"td",19),w(),f(37,si,1,0,"tr",23)(38,ci,3,1,"tr",24)(39,di,1,0,"tr",25),n()(),o(40,"div",26)(41,"mat-paginator",27,0),h("page",function(d){return g(l),_(e.pageChanged(d))}),n()()()}i&2&&(m(8),v("formGroup",e.searchForm),m(8),v("value","Active"),m(2),v("value","Inactive"),m(3),v("dataSource",e.dataSource),m(16),v("matHeaderRowDef",e.displayedColumns),m(2),v("matRowDefColumns",e.displayedColumns),m(2),v("pageSize",e.pagination.pageSize)("pageIndex",e.pagination.pageIndex)("pageSizeOptions",e.pagination.pageSizeOptions))},dependencies:[Se,Ct,P,le,ae,k,be,R,xe,we,De,Fe,Ee,Me,Ae,Te,Ne,Ve,Oe,Pe,ie,Z,ee,te,ne,oe]})};function ui(a,t){if(a&1){let i=M();o(0,"button",28),h("click",function(){g(i);let l=I();return _(l.createInvoice())}),o(1,"mat-icon",29),r(2,"add"),n(),r(3," Create Invoice "),n()}}function vi(a,t){a&1&&(o(0,"th",30),r(1,"No."),n())}function fi(a,t){if(a&1&&(o(0,"td",31),r(1),n()),a&2){let i=t.index,e=I();m(),s(" ",e.pagination.pageIndex*e.pagination.pageSize+(i+1)," ")}}function hi(a,t){a&1&&(o(0,"th",32),r(1,"Invoice No"),n())}function gi(a,t){if(a&1&&(o(0,"td",33),r(1),n()),a&2){let i=t.$implicit;m(),s(" ",i==null?null:i.invoiceNo," ")}}function _i(a,t){a&1&&(o(0,"th",32),r(1,"Invoice Date"),n())}function Si(a,t){if(a&1&&(o(0,"td",33),r(1),C(2,"date"),n()),a&2){let i=t.$implicit;m(),s(" ",y(2,1,i==null?null:i.createdAt,"dd MMM yyyy")," ")}}function Ii(a,t){a&1&&(o(0,"th",34),r(1,"Customer Name"),n())}function Ci(a,t){if(a&1&&(o(0,"td",33),r(1),n()),a&2){let i=t.$implicit;m(),s(" ",i==null||i.customerInfo==null?null:i.customerInfo.name," ")}}function yi(a,t){a&1&&(o(0,"th",32),r(1,"Company Name"),n())}function bi(a,t){if(a&1&&(o(0,"td",33),r(1),n()),a&2){let i=t.$implicit;m(),s(" ",i==null?null:i.companyName," ")}}function xi(a,t){a&1&&(o(0,"th",32),r(1,"Model No"),n())}function wi(a,t){if(a&1&&(o(0,"td",33),r(1),n()),a&2){let i=t.$implicit;m(),s(" ",i==null?null:i.modelNo," ")}}function Mi(a,t){a&1&&(o(0,"th",32),r(1,"Invoice Total"),n())}function Di(a,t){if(a&1&&(o(0,"td",33),r(1),C(2,"number"),n()),a&2){let i=t.$implicit;m(),s(" ",y(2,1,i==null?null:i.invoiceTotal,"2.2")," ")}}function Ei(a,t){a&1&&S(0,"tr",35)}function Ti(a,t){if(a&1&&(o(0,"tr",36)(1,"td",37),r(2," No data found "),n()()),a&2){let i=I();m(),ue("colspan",i.displayedColumns.length)}}function Ni(a,t){if(a&1){let i=M();o(0,"tr",38),h("click",function(){let l=g(i).$implicit,c=I();return _(c.goTo(c._userService.hasAccess(c.accessControls.INVOICE_READ_DETAILS)?"/invoice/view/"+l.id:null))}),n()}}var Be=class a{constructor(t,i,e,l,c,d,b,T){this._fb=t;this._invoiceService=i;this._activatedRoute=e;this._router=l;this._utilService=c;this._dialog=d;this._storageService=b;this._userService=T}accessControls=A;sort;paginator;displayedColumns=["invoiceNo","createdAt","customerName","companyName","modelNo","invoiceTotal"];dataSource=new ke;pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0};searchForm;onDestroy=new G;urlParams=null;ngOnInit(){this.searchForm=this._fb.group({searchString:new p(null),sortBy:new p(""),sortOrder:new p(""),shopId:new p(this._storageService.getCurrentShopAccess())}),this._activatedRoute.queryParams.pipe(N(this.onDestroy)).subscribe(t=>{try{let i=this._utilService.decode(t.q);this.urlParams=i;let e={};i?.page&&!this.pagination.pageIndex&&(this.pagination.pageIndex=parseInt(i?.page)),i?.size&&(this.pagination.pageSize=i?.size),i?.searchString&&!this.searchForm.value.searchString&&(e.searchString=i?.searchString),i?.sortBy&&!this.searchForm.value.sortBy&&(e.sortBy=i?.sortBy),i?.sortOrder&&!this.searchForm.value.sortOrder&&(e.sortOrder=i?.sortOrder),i?.shopId&&!this.searchForm.value.shopId&&(e.shopId=i?.shopId),this.searchForm.patchValue(e)}catch(i){this._utilService.showErrorSnack(i)}}),this.searchForm.get("searchString")?.valueChanges.pipe(N(this.onDestroy),L(500),B()).subscribe(t=>{this.resetPagination(),this.getInvoiceList()}),this.getInvoiceList()}resetPagination(){this.pagination.pageIndex=0}updateRoute(){let t={page:this.pagination.pageIndex,size:this.pagination.pageSize,searchString:this.searchForm.value.searchString??"",sortBy:this.searchForm.value.sortBy??"",sortOrder:this.searchForm.value.sortOrder??"",shopId:this.searchForm.value.shopId??""};this._router.navigate([],{replaceUrl:!0,relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(t)},queryParamsHandling:"merge"})}ngAfterViewInit(){this.urlParams?.sortBy&&this.urlParams?.sortOrder&&this.sort.sort({id:this.urlParams.sortBy,start:this.urlParams.sortOrder.toLowerCase()}),this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Records Per Page"}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}sortData(t){let i=t.direction,e=t.active;(!e||i==="")&&(e="",i=""),this.searchForm.patchValue({sortBy:e,sortOrder:i}),this.getInvoiceList()}filterParams(){let t=new fe;return t=t.append("skip",this.pagination.pageIndex*this.pagination.pageSize),t=t.append("limit",this.pagination.pageSize),this.searchForm.value.searchString&&(t=t.append("searchString",this.searchForm.value.searchString)),this.searchForm.value.sortBy&&(t=t.append("sortBy",this.searchForm.value.sortBy)),this.searchForm.value.sortOrder&&(t=t.append("sortOrder",this.searchForm.value.sortOrder)),this.searchForm.value.shopId&&(t=t.append("shopId",this.searchForm.value.shopId)),this.updateRoute(),t}getInvoiceList(){return D(this,null,function*(){try{let t=yield this._invoiceService.getInvoiceList(this.filterParams());this.dataSource.data=t.items,this.paginator.pageIndex=this.pagination.pageIndex,this.paginator.length=t.count}catch(t){this._utilService.showErrorSnack(t)}})}pageChanged(t){this.pagination.pageSize=t.pageSize,this.pagination.pageIndex=t.pageIndex,this.getInvoiceList()}goTo(t){t&&this._router.navigate([t],{relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(this.urlParams)}})}createInvoice(){this._dialog.open(Le,{maxWidth:"70vw",maxHeight:"70vh",height:"70%",width:"70%"}).afterClosed().subscribe(i=>D(this,null,function*(){if(i)try{this.urlParams=Je({customerId:i},this.urlParams),this.goTo("/invoice/form")}catch(e){this._utilService.showErrorSnack(e)}}))}static \u0275fac=function(i){return new(i||a)(u(re),u(me),u(K),u(he),u(O),u(ye),u(dt),u(Ie))};static \u0275cmp=V({type:a,selectors:[["app-invoice-list"]],viewQuery:function(i,e){if(i&1&&($(R,5),$(k,5)),i&2){let l;Q(l=W())&&(e.sort=l.first),Q(l=W())&&(e.paginator=l.first)}},decls:39,vars:8,consts:[["paginator",""],[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-extrabold","md:m-0"],["mat-raised-button","","color","primary","class","rounded",3,"click",4,"ngIf"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["matInput","","placeholder","Search","formControlName","searchString"],[1,"w-full","overflow-x-auto","bg-white","border","rounded-lg"],["mat-table","","matSort","",1,"w-full",3,"matSortChange","dataSource"],["matColumnDef","no"],["mat-header-cell","","width","80",4,"matHeaderCellDef"],["mat-cell","","width","80",4,"matCellDef"],["matColumnDef","invoiceNo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","companyName"],["matColumnDef","modelNo"],["matColumnDef","invoiceTotal"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end","mt-2"],[1,"bg-transparent",3,"page","pageSize","pageIndex","pageSizeOptions"],["mat-raised-button","","color","primary",1,"rounded",3,"click"],[1,"mr-1"],["mat-header-cell","","width","80"],["mat-cell","","width","80"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(i,e){if(i&1){let l=M();o(0,"div",1)(1,"div",2)(2,"h2",3),r(3,"Invoice List"),n(),o(4,"div"),f(5,ui,4,0,"button",4),n()(),o(6,"form",5)(7,"div",6)(8,"mat-form-field",7),S(9,"input",8),n()()(),o(10,"div",9)(11,"table",10),h("matSortChange",function(d){return g(l),_(e.sortData(d))}),x(12,11),f(13,vi,2,0,"th",12)(14,fi,2,1,"td",13),w(),x(15,14),f(16,hi,2,0,"th",15)(17,gi,2,1,"td",16),w(),x(18,17),f(19,_i,2,0,"th",15)(20,Si,3,4,"td",16),w(),x(21,18),f(22,Ii,2,0,"th",19)(23,Ci,2,1,"td",16),w(),x(24,20),f(25,yi,2,0,"th",15)(26,bi,2,1,"td",16),w(),x(27,21),f(28,xi,2,0,"th",15)(29,wi,2,1,"td",16),w(),x(30,22),f(31,Mi,2,0,"th",15)(32,Di,3,4,"td",16),w(),f(33,Ei,1,0,"tr",23)(34,Ti,3,1,"tr",24)(35,Ni,1,0,"tr",25),n()(),o(36,"div",26)(37,"mat-paginator",27,0),h("page",function(d){return g(l),_(e.pageChanged(d))}),n()()()}i&2&&(m(5),v("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_CREATE)),m(),v("formGroup",e.searchForm),m(5),v("dataSource",e.dataSource),m(22),v("matHeaderRowDef",e.displayedColumns),m(2),v("matRowDefColumns",e.displayedColumns),m(2),v("pageSize",e.pagination.pageSize)("pageIndex",e.pagination.pageIndex)("pageSizeOptions",e.pagination.pageSizeOptions))},dependencies:[ve,J,P,le,ae,k,R,xe,we,De,Fe,Ee,Me,Ae,Te,Ne,Ve,Oe,Pe,ie,Z,ee,te,ne,oe,X,lt]})};function Fi(a,t){a&1&&(o(0,"p",17),r(1," Active "),n())}function Ai(a,t){a&1&&(o(0,"p",18),r(1," Inactive "),n())}function Vi(a,t){if(a&1){let i=M();o(0,"button",19),h("click",function(){g(i);let l=I();return _(l.onPrint())}),r(1," Print"),o(2,"mat-icon",4),r(3,"print"),n()()}}function Oi(a,t){if(a&1){let i=M();o(0,"button",20),h("click",function(){g(i);let l=I();return _(l.goTo("/invoice/form/"+l.invoiceId))}),r(1," Edit "),o(2,"mat-icon",4),r(3,"edit"),n()()}}function Pi(a,t){if(a&1){let i=M();o(0,"button",21),h("click",function(){g(i);let l=I();return _(l.deleteInvoice())}),r(1," Delete "),o(2,"mat-icon",4),r(3,"delete"),n()()}}function ki(a,t){if(a&1&&(o(0,"div")(1,"mat-label",9),r(2,"HSN Code"),n(),o(3,"p",10),r(4),n()()),a&2){let i,e=I();m(4),s(" ",(i=e.invoiceModel==null?null:e.invoiceModel.hsnCode)!==null&&i!==void 0?i:""," ")}}function Ri(a,t){if(a&1&&(o(0,"div")(1,"mat-label",9),r(2),n(),o(3,"p",10),r(4),C(5,"number"),n()(),o(6,"div")(7,"mat-label",9),r(8),n(),o(9,"p",10),r(10),C(11,"number"),n()()),a&2){let i=I();m(2),s("SGST Total (",i.invoiceModel==null||i.invoiceModel.shopInfo==null?null:i.invoiceModel.shopInfo.sgst,"%)"),m(2),E(y(5,4,i.invoiceModel==null?null:i.invoiceModel.sgstTotal,"2.2")),m(4),s("SGST Total (",i.invoiceModel==null||i.invoiceModel.shopInfo==null?null:i.invoiceModel.shopInfo.cgst,"%)"),m(2),E(y(11,7,i.invoiceModel==null?null:i.invoiceModel.cgstTotal,"2.2"))}}var je=class a{constructor(t,i,e,l,c,d){this._activatedRoute=t;this._router=i;this._invoiceService=e;this._utilService=l;this._userService=c;this._dialog=d}accessControls=A;invoiceModel=null;invoiceId;urlParams=null;ngOnInit(){this._activatedRoute.paramMap.subscribe(t=>{this.invoiceId=t.get("id")??"",this.loadPreData()}),this._activatedRoute.queryParams.subscribe(t=>{this.urlParams=t})}loadPreData(){return D(this,null,function*(){try{this.invoiceModel=yield this._invoiceService.getInvoiceById(this.invoiceId)}catch(t){this._utilService.showErrorSnack(t)}})}get isTaxInvoiceType(){return this.invoiceModel?.invoiceType=="Tax Invoice"}goTo(t){t&&this._router.navigate([t],{relativeTo:this._activatedRoute,queryParams:this.urlParams})}deleteInvoice(){this._dialog.open(xt,{data:{title:"Are sure you want to delete this invoice?"}}).afterClosed().subscribe(i=>D(this,null,function*(){if(i)try{yield this._invoiceService.deleteInvoiceById(this.invoiceId),this._utilService.showSuccessSnack("Invoice deleted successfully"),this.goTo("/invoice")}catch(e){this._utilService.showErrorSnack(e)}}))}onPrint(){return D(this,null,function*(){if(this.invoiceId)try{yield this._invoiceService.printInvoice(this.invoiceId)}catch(t){this._utilService.showErrorSnack(t)}})}static \u0275fac=function(i){return new(i||a)(u(K),u(he),u(me),u(O),u(Ie),u(ye))};static \u0275cmp=V({type:a,selectors:[["app-view-invoice-details"]],decls:104,vars:30,consts:[[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","md:m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[1,"bg-white","border","rounded-md"],[1,"md:flex","justify-between","w-full","items-center","border-b"],[1,"text-base","font-semibold","py-3","px-6","m-0"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-5","p-6","text-sm","font-light"],[1,"text-secondary"],[1,"mt-2","mb-0","font-medium"],["class","mt-2 mb-0 font-medium bg-[#CCEEC1] border border-[#54C632] rounded-full w-fit px-4 py-1",4,"ngIf"],["class","mt-2 mb-0 font-medium bg-[#ff7f7f] border border-[#FF0000] rounded-full w-fit px-4 py-1",4,"ngIf"],[1,"bg-white","border","rounded-md","mt-6"],["mat-raised-button","","color","primary","class","rounded mr-5 m-2",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","rounded mr-5",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn","class","rounded mr-5",3,"click",4,"ngIf"],[1,"mt-2","mb-0","font-medium","bg-[#CCEEC1]","border","border-[#54C632]","rounded-full","w-fit","px-4","py-1"],[1,"mt-2","mb-0","font-medium","bg-[#ff7f7f]","border","border-[#FF0000]","rounded-full","w-fit","px-4","py-1"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"click"],["mat-raised-button","","color","primary",1,"rounded","mr-5",3,"click"],["mat-stroked-button","","color","warn",1,"rounded","mr-5",3,"click"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"View Invoice Details"),n(),o(4,"button",3),h("click",function(){return e.goTo("/invoice")}),o(5,"mat-icon",4),r(6,"arrow_back"),n(),r(7," Back to Invoice "),n()(),o(8,"div",5)(9,"div",6)(10,"h6",7),r(11,"Customer Details"),n()(),o(12,"div",8)(13,"div")(14,"mat-label",9),r(15,"Customer Name"),n(),o(16,"p",10),r(17),n()(),o(18,"div")(19,"mat-label",9),r(20,"Mobile No1"),n(),o(21,"p",10),r(22),n()(),o(23,"div")(24,"mat-label",9),r(25,"Mobile No2"),n(),o(26,"p",10),r(27),n()(),o(28,"div")(29,"mat-label",9),r(30,"Email"),n(),o(31,"p",10),r(32),n()(),o(33,"div")(34,"mat-label",9),r(35,"GST No"),n(),o(36,"p",10),r(37),n()(),o(38,"div")(39,"mat-label",9),r(40,"Status"),n(),f(41,Fi,2,0,"p",11)(42,Ai,2,0,"p",12),n()()(),o(43,"div",13)(44,"div",6)(45,"h6",7),r(46,"Invoice Details"),n(),o(47,"div"),f(48,Vi,4,0,"button",14)(49,Oi,4,0,"button",15)(50,Pi,4,0,"button",16),n()(),o(51,"div",8)(52,"div")(53,"mat-label",9),r(54,"Shop Name"),n(),o(55,"p",10),r(56),n()(),o(57,"div")(58,"mat-label",9),r(59,"Company Name"),n(),o(60,"p",10),r(61),n()(),o(62,"div")(63,"mat-label",9),r(64,"Model No"),n(),o(65,"p",10),r(66),n()(),o(67,"div")(68,"mat-label",9),r(69,"Serial No1"),n(),o(70,"p",10),r(71),n()(),o(72,"div")(73,"mat-label",9),r(74,"Serial No2"),n(),o(75,"p",10),r(76),n()(),f(77,ki,5,1,"div"),n(),S(78,"hr"),o(79,"div",8)(80,"div")(81,"mat-label",9),r(82,"Quantity"),n(),o(83,"p",10),r(84),n()(),o(85,"div")(86,"mat-label",9),r(87,"Price"),n(),o(88,"p",10),r(89),C(90,"number"),n()(),o(91,"div")(92,"mat-label",9),r(93,"Total"),n(),o(94,"p",10),r(95),C(96,"number"),n()(),f(97,Ri,12,10),o(98,"div")(99,"mat-label",9),r(100,"Grand Total"),n(),o(101,"p",10),r(102),C(103,"number"),n()()()()()),i&2){let l,c,d,b,T,z,U,q,H,Ye;m(17),s(" ",e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.name," "),m(5),s(" ",(l=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.mobileNo1)!==null&&l!==void 0?l:"NA"," "),m(5),s(" ",(c=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.mobileNo2)!==null&&c!==void 0?c:"NA"," "),m(5),s(" ",(d=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.email)!==null&&d!==void 0?d:"NA"," "),m(5),s(" ",(b=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.gstNo)!==null&&b!==void 0?b:"NA"," "),m(4),v("ngIf",e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.active),m(),v("ngIf",!(!(e.invoiceModel==null||e.invoiceModel.customerInfo==null)&&e.invoiceModel.customerInfo.active)),m(6),v("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_PRINT)),m(),v("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_UPDATE)),m(),v("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_DELETE)),m(6),s(" ",(T=e.invoiceModel==null||e.invoiceModel.shopInfo==null?null:e.invoiceModel.shopInfo.name)!==null&&T!==void 0?T:"NA"," "),m(5),s(" ",(z=e.invoiceModel==null?null:e.invoiceModel.companyName)!==null&&z!==void 0?z:""," "),m(5),s(" ",(U=e.invoiceModel==null?null:e.invoiceModel.modelNo)!==null&&U!==void 0?U:""," "),m(5),s(" ",(q=e.invoiceModel==null?null:e.invoiceModel.serialNo1)!==null&&q!==void 0?q:""," "),m(5),s(" ",(H=e.invoiceModel==null?null:e.invoiceModel.serialNo2)!==null&&H!==void 0?H:""," "),m(),j(e.isTaxInvoiceType?77:-1),m(7),E((Ye=e.invoiceModel==null?null:e.invoiceModel.quantity)!==null&&Ye!==void 0?Ye:""),m(5),E(y(90,21,e.invoiceModel==null?null:e.invoiceModel.price,"2.2")),m(6),E(y(96,24,e.invoiceModel==null?null:e.invoiceModel.total,"2.2")),m(2),j(e.isTaxInvoiceType?97:-1),m(5),E(y(103,27,e.invoiceModel==null?null:e.invoiceModel.invoiceTotal,"2.2"))}},dependencies:[ve,J,P,Ce,X]})};var Li=[{path:"",component:Be,canActivate:[se("INVOICE_READ_LIST")]},{path:"form",component:de,canActivate:[se("INVOICE_CREATE")]},{path:"form/:id",component:de,canActivate:[se("INVOICE_UPDATE")]},{path:"view/:id",component:je,canActivate:[se("INVOICE_READ_DETAILS")]}],kt=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=qe({type:a});static \u0275inj=ze({imports:[st,yt,ut,vt,ct.forChild(Li)]})};export{kt as InvoiceModule};
