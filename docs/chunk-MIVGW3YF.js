import{c as o,d as u,f as p}from"./chunk-EIFYYTBY.js";import{d as l}from"./chunk-TN7LRJOG.js";import{ha as n,ma as i,o as c,x as s}from"./chunk-L2AW7WK7.js";var S=class a{constructor(e,t,r){this._storageService=e;this._utilService=t;this.http=r;this.observedUser()}_user=new c(1);accessWithRoute=[{access:"DASHBOARD_VIEW",route:["dashboard"]}];observedUser(){this._utilService.loginChangeObx.subscribe(e=>{e&&(this.user=e)})}set user(e){this._user.next(e)}get user$(){return this._user.asObservable()}hasAccess(e){let t=this._storageService.getCurrentUser();if(t?.role=="Super Admin")return!0;if(typeof e=="string"){if(t?.accessControls?.includes(e))return!0}else{var r=!1;return e.map(m=>{t?.accessControls?.includes(m)&&(r=!0)}),r}return!1}getInitialRouteAccess(){let e=this._storageService.getCurrentUser();var t=null;return this.accessWithRoute.map(r=>{}),t??"dashboard"}getAccessControlsList(){return s(this.http.get(o.ACCESS_CONTROLS))}getAccessControlsRoleWiseList(){return s(this.http.get(o.ACCESS_CONTROLS_ROLE_WISE))}getStatistics(e){return s(this.http.get(o.STATISTICS+e))}static \u0275fac=function(t){return new(t||a)(i(u),i(p),i(l))};static \u0275prov=n({token:a,factory:a.\u0275fac,providedIn:"root"})};export{S as a};
