import{c as s,d as u,f as S}from"./chunk-FF4N62Y4.js";import{d as l}from"./chunk-TN7LRJOG.js";import{ha as c,ma as o,o as n,x as r}from"./chunk-L2AW7WK7.js";var p=class a{constructor(t,e,i){this._storageService=t;this._utilService=e;this.http=i;this.observedUser()}_user=new n(1);accessWithRoute=[{access:"DASHBOARD_VIEW",route:["dashboard"]}];observedUser(){this._utilService.loginChangeObx.subscribe(t=>{t&&(this.user=t)})}set user(t){this._user.next(t)}get user$(){return this._user.asObservable()}hasAccess(t){let e=this._storageService.getCurrentUser();if(e?.role=="Super Admin")return!0;if(typeof t=="string"){if(e?.accessControls?.includes(t))return!0}else{var i=!1;return t.map(m=>{e?.accessControls?.includes(m)&&(i=!0)}),i}return!1}getInitialRouteAccess(){let t=this._storageService.getCurrentUser();var e=null;return this.accessWithRoute.map(i=>{}),e??"dashboard"}getAccessControlsList(){return r(this.http.get(s.ACCESS_CONTROLS))}getAccessControlsRoleWiseList(){return r(this.http.get(s.ACCESS_CONTROLS_ROLE_WISE))}getStatistics(t){return r(this.http.get(s.STATISTICS+t))}getDbStats(){return r(this.http.get(s.DB_STATS))}static \u0275fac=function(e){return new(e||a)(o(u),o(S),o(l))};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{p as a};
