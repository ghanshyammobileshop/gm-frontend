import{a as f}from"./chunk-I2NOJ6RZ.js";import{a as V}from"./chunk-V4PXP256.js";import{a as ke,b as A}from"./chunk-UYDVOJFC.js";import{a as Y,c as xe,e as we}from"./chunk-QVUSE63M.js";import{$ as B,D as j,M as Re,N as Oe,O as De,P as Fe,Q as Te,R as Pe,Y as Ne,Z as Ue,_ as He,c as Le,i as Ee,pa as Ve,qa as E}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{c as J,e as Ce,f as ye,g as Se,h as Ae,k as L,l as S,m as Ie,n as be,o as Me,p as H}from"./chunk-TN7LRJOG.js";import{d as ge,m as x,t as ve,v as _e}from"./chunk-MKB6ZC6F.js";import{Aa as k,Ab as m,Ba as R,Bc as ue,Cb as de,Dc as he,Ja as oe,Jb as a,Kb as s,L as K,Lb as u,Mc as fe,Pb as P,Qa as ae,Ra as se,T as ee,Vb as O,aa as T,ea as te,eb as l,ec as D,fb as C,fc as p,gb as le,gc as N,ha as ie,hc as U,ib as me,ka as ne,kb as ce,na as d,nb as pe,nc as y,oc as I,pb as G,ra as _,t as b,u as X,va as re,vb as M}from"./chunk-L2AW7WK7.js";var g=(n,e)=>{let i=d(S);return d(A).check().pipe(T(t=>{if(!t){let r=i.parseUrl("sign-in");return b(r)}return b(!0)}))};var Z=(n,e)=>{let i=d(S),t=d(V);return d(A).check().pipe(T(r=>{if(r){let o=t.getInitialRouteAccess();return b(i.parseUrl(o))}return b(!0)}))};function Ge(n,e){n&1&&u(0,"router-outlet")}var F=class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=_({type:n,selectors:[["app-empty-layout"]],standalone:!0,features:[y],decls:3,vars:1,consts:[[1,"flex","flex-col","flex-auto","w-full","h-full"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1),M(2,Ge,1,0,"router-outlet",2),s()()),i&2&&(l(2),m("ngIf",!0))},dependencies:[E,L,x]})};var w=()=>["active"];function Ye(n,e){n&1&&(a(0,"a",27),u(1,"img",28),p(2," Dashboard "),s()),n&2&&m("routerLinkActive",I(1,w))}function Ze(n,e){n&1&&(a(0,"a",29),u(1,"img",30),p(2," Customer "),s()),n&2&&m("routerLinkActive",I(1,w))}function $e(n,e){n&1&&(a(0,"a",31),u(1,"img",32),p(2," Invoice "),s()),n&2&&m("routerLinkActive",I(1,w))}function qe(n,e){n&1&&(a(0,"a",33),u(1,"img",34),p(2," App User "),s()),n&2&&m("routerLinkActive",I(1,w))}function Xe(n,e){n&1&&(a(0,"a",35),u(1,"img",36),p(2," Shops "),s()),n&2&&m("routerLinkActive",I(1,w))}function Ke(n,e){n&1&&(a(0,"a",37),u(1,"img",38),p(2," Log Report "),s()),n&2&&m("routerLinkActive",I(1,w))}var W=class n{constructor(e,i,t){this._router=e;this._userService=i;this._authService=t;this._userService.user$.subscribe(r=>{this.user=r;let o=this.user.name.trim().split(" "),c=o[0][0],h=o[o.length-1][0];this.avatarInitials=(c+h).toUpperCase()})}accessControls=Y;user;avatarInitials="";signOut(){this._authService.signOut(),this._router.navigate(["/sign-out"])}static \u0275fac=function(i){return new(i||n)(C(S),C(V),C(A))};static \u0275cmp=_({type:n,selectors:[["app-sidebar"]],standalone:!0,features:[y],decls:40,vars:14,consts:[["userActions","matMenu"],[1,"m-2"],[1,"py-8"],["src","assets/images/logo/logo.png",1,"dark:brightness-0","dark:invert","w-36","mx-auto"],[1,"px-2","sidebar"],["mat-list-item","","routerLink","/dashboard",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/customer",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/invoice",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/admin-user",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/shop",3,"routerLinkActive",4,"ngIf"],["mat-list-item","","routerLink","/log-report",3,"routerLinkActive",4,"ngIf"],[1,"flex","flex-row","items-center","w-full","pt-3","pl-3","border-t"],[1,"relative","w-20","rounded-full","bg-secondary","mr-3"],[1,"w-full","h-full","rounded-full","img-text","text-black"],[1,"flex","flex-col","items-center","w-full"],[1,"w-full","whitespace-nowrap","text-ellipsis","overflow-hidden","leading-normal","font-medium","text-sm","mb-0"],[1,"w-36","mt-0.5","whitespace-nowrap","text-ellipsis","overflow-hidden","text-xs","leading-normal","font-medium","text-secondary","m-0"],[1,"text-[20px]","cursor-pointer",3,"matMenuTriggerFor"],[3,"xPosition"],["mat-menu-item","",1,"hover:bg-transparent"],[1,"flex","flex-col","leading-none"],[1,"text-xs","m-0"],[1,"text-sm","text-primary","font-medium","m-0","mt-1"],[1,"text-xs","text-default"],[1,"mt-1","text-sm","text-secondary","font-normal"],[1,"my-2"],["mat-menu-item","",3,"click"],["mat-list-item","","routerLink","/dashboard",3,"routerLinkActive"],["src","../../../../assets/icons/dashboard.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/customer",3,"routerLinkActive"],["src","../../../../assets/icons/customer.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/invoice",3,"routerLinkActive"],["src","../../../../assets/icons/invoice.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/admin-user",3,"routerLinkActive"],["src","../../../../assets/icons/admin-user.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/shop",3,"routerLinkActive"],["src","../../../../assets/icons/store.svg","alt","",1,"mr-3"],["mat-list-item","","routerLink","/log-report",3,"routerLinkActive"],["src","../../../../assets/icons/log-report.svg","alt","",1,"mr-3"]],template:function(i,t){if(i&1){let r=P();a(0,"div",1)(1,"div",2),u(2,"img",3),s(),a(3,"mat-nav-list",4),M(4,Ye,3,2,"a",5)(5,Ze,3,2,"a",6)(6,$e,3,2,"a",7)(7,qe,3,2,"a",8)(8,Xe,3,2,"a",9)(9,Ke,3,2,"a",10),s(),a(10,"div",11)(11,"div",12)(12,"span",13)(13,"b"),p(14),s()()(),a(15,"div",14)(16,"p",15),p(17),s(),a(18,"p",16),p(19),s()(),a(20,"mat-icon",17),p(21,"chevron_right"),s()()(),a(22,"mat-menu",18,0)(24,"button",19)(25,"span",20)(26,"p",21),p(27,"Signed in as"),s(),a(28,"h4",22),p(29),a(30,"span",23),p(31),s()(),a(32,"span",24),p(33),s()()(),u(34,"mat-divider",25),a(35,"button",26),O("click",function(){return k(r),R(t.signOut())}),a(36,"mat-icon"),p(37,"logout"),s(),a(38,"span"),p(39,"Log out"),s()()()}if(i&2){let r,o,c=D(23);l(4),m("ngIf",t._userService.hasAccess(t.accessControls.DASHBOARD_VIEW)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.CUSTOMER_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.INVOICE_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.USER_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.SHOP_READ_LIST)),l(),m("ngIf",t._userService.hasAccess(t.accessControls.LOG_READ_ALL)),l(5),N(t.avatarInitials),l(3),U(" ",(r=t.user==null?null:t.user.name)!==null&&r!==void 0?r:""," "),l(2),U(" ",t.user==null?null:t.user.email," "),l(),m("matMenuTriggerFor",c),l(2),m("xPosition","after"),l(7),U("",(o=t.user==null?null:t.user.name)!==null&&o!==void 0?o:""," "),l(2),N(t.user!=null&&t.user.role?"("+(t.user==null?null:t.user.role)+")":""),l(2),N(t.user==null?null:t.user.email)}},dependencies:[ve,x,E,Re,j,De,Oe,Te,Fe,Pe,B,H,Ie,be],styles:["a.mat-mdc-list-item[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]{text-transform:capitalize}a.mat-mdc-list-item[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-expansion-panel-header[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{align-items:center}a.mat-mdc-list-item[_ngcontent-%COMP%]:hover:not(a.mat-mdc-list-item.active), .mat-expansion-panel-header[_ngcontent-%COMP%]:hover:not(a.mat-mdc-list-item.active){color:#4a576d;background-color:#f4f4f5}.mat-mdc-nav-list[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:3px}  .mat-mdc-nav-list .mdc-list-item__primary-text,   .mat-expansion-panel-header .mat-content{font-size:14px;align-items:center;display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important;background:inherit;z-index:9}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:16px;padding-right:10px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{opacity:1}  mat-nav-list .mat-expansion-panel-body{padding:0}  mat-nav-list .mat-expansion-panel-body mat-icon{margin-left:28px}.img-text[_ngcontent-%COMP%]{padding:15px;display:inline-block}"]})};function et(n,e){n&1&&u(0,"router-outlet")}var v=class n{constructor(e,i,t){this.platformId=t;this.mobileQuery=i.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addEventListener("change",this._mobileQueryListener),_e(this.platformId)&&(this.darkMode=G(JSON.parse(window.localStorage.getItem("darkMode")??"false")),fe(()=>{window.localStorage.setItem("darkMode",JSON.stringify(this.darkMode()))})),this.screenWidth=window.innerWidth,window.onresize=()=>{this.screenWidth=window.innerWidth}}screenWidth;mobileQuery;_mobileQueryListener;darkMode=G(!1);docElement;isFullScreen=!1;get mode(){return this.darkMode()}ngOnDestroy(){this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}ngOnInit(){this.docElement=document.documentElement}toggleFullScreen(){this.isFullScreen?document.exitFullscreen():this.docElement.requestFullscreen(),this.isFullScreen=!this.isFullScreen}static \u0275fac=function(i){return new(i||n)(C(he),C(Le),C(ae))};static \u0275cmp=_({type:n,selectors:[["app-layout"]],hostVars:2,hostBindings:function(i,t){i&2&&de("dark",t.mode)},standalone:!0,features:[y],decls:10,vars:4,consts:[["snav",""],[1,"h-full","dark:bg-gray-900"],[1,"bg-white","dark:bg-accent","shadow",3,"mode","fixedInViewport","opened"],[3,"click"],[1,"bg-white","relative","flex","flex-0","items-center","justify-between","shadow","w-full","h-16","px-4","md:px-6","z-10","dark:bg-accent","dark:text-white","dark:border-b","bg-white","print:hidden"],["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(i,t){if(i&1){let r=P();a(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"app-sidebar",3),O("click",function(){k(r);let c=D(2);return R(t.screenWidth<640?c.toggle():null)}),s()(),a(4,"mat-sidenav-content")(5,"mat-toolbar",4)(6,"button",5),O("click",function(){k(r);let c=D(2);return R(c.toggle())}),a(7,"mat-icon"),p(8,"menu"),s()()(),M(9,et,1,0,"router-outlet",6),s()()}i&2&&(l(),m("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches)("opened",t.screenWidth>640),l(8),m("ngIf",!0))},dependencies:[E,Ee,j,Ue,He,Ne,Ve,L,x,B,H,W]})};var je=[{path:"",pathMatch:"full",redirectTo:"sign-in"},{path:"signed-in-redirect",pathMatch:"full",redirectTo:"dashboard"},{path:"",canActivate:[Z],canActivateChild:[Z],component:F,children:[{path:"confirmation-required",loadChildren:()=>import("./chunk-ZWOKJP7N.js")},{path:"forgot-password",loadChildren:()=>import("./chunk-LNA3HILE.js")},{path:"reset-password",loadChildren:()=>import("./chunk-5RK5UTXF.js")},{path:"sign-in",loadChildren:()=>import("./chunk-GJK6SM2F.js")},{path:"sign-up",loadChildren:()=>import("./chunk-W754WYVC.js")},{path:"sign-out",loadChildren:()=>import("./chunk-WB6HXKAD.js")},{path:"maintenance",loadChildren:()=>import("./chunk-IKYWPXGP.js")},{path:"error",loadChildren:()=>import("./chunk-TJN3I5AH.js")}]},{path:"dashboard",canActivate:[g,f("DASHBOARD_VIEW")],canActivateChild:[g,f("DASHBOARD_VIEW")],component:v,loadChildren:()=>import("./chunk-FTHXGSP2.js").then(n=>n.DashboardModule)},{path:"admin-user",canActivate:[g,f("USER_READ_LIST")],canActivateChild:[g,f("USER_READ_LIST")],component:v,loadChildren:()=>import("./chunk-W2AER2B7.js").then(n=>n.AdminUserModule)},{path:"customer",canActivate:[g,f("CUSTOMER_READ_LIST")],canActivateChild:[g,f("CUSTOMER_READ_LIST")],component:v,loadChildren:()=>import("./chunk-XGOAWRS6.js").then(n=>n.CustomerModule)},{path:"invoice",canActivate:[g,f(["INVOICE_READ_LIST"])],canActivateChild:[g,f(["INVOICE_READ_LIST"])],component:v,loadChildren:()=>import("./chunk-WNTSKHDW.js").then(n=>n.InvoiceModule)},{path:"shop",canActivate:[g,f("SHOP_READ_LIST")],canActivateChild:[g,f("SHOP_READ_LIST")],component:v,loadChildren:()=>import("./chunk-CX25MPSB.js").then(n=>n.ShopModule)},{path:"log-report",canActivate:[g,f("LOG_READ_ALL")],canActivateChild:[g,f("LOG_READ_ALL")],component:v,loadChildren:()=>import("./chunk-AAB7RZRJ.js").then(n=>n.LogReportModule)},{path:"**",component:F,data:{layout:"empty"},loadChildren:()=>import("./chunk-TJN3I5AH.js")}];var tt="@",it=(()=>{let e=class e{constructor(t,r,o,c,h){this.doc=t,this.delegate=r,this.zone=o,this.animationType=c,this.moduleImpl=h,this._rendererFactoryPromise=null,this.scheduler=d(me,{optional:!0}),this.loadingSchedulerFn=d(nt,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-BMAUQGWA.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(o=>{throw new te(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:c})=>{this._engine=o(this.animationType,this.doc);let h=new c(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let c=new q(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let ze=h.createRenderer(t,r);c.use(ze),this.scheduler?.notify(10)}).catch(h=>{c.use(o)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){le()},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let n=e;return n})(),q=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,r){this.delegate.insertBefore(e,i,t,r)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(tt)}},nt=new ne("");function Be(n="animations"){return pe("NgAsyncAnimations"),re([{provide:ce,useFactory:(e,i,t)=>new it(e,i,t,n),deps:[ge,Se,oe]},{provide:se,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Qe=(n,e)=>{let i=d(we),t=d(A),r=d(xe),o=d(S),c=r.getSessionToken();return c&&!ke.isTokenExpired(c)&&(n=n.clone({headers:n.headers.set("Authorization",`Bearer ${c}`)})),i.showLoader(),e(n).pipe(K(h=>(h instanceof J&&h instanceof J&&h.status===401&&(t.signOut(),o.navigate(["sign-in"])),X(()=>h))),ee(()=>i.hideLoader()))};var We={providers:[ue({eventCoalescing:!0}),Me(je),Be(),Ce(ye([Qe]))]};var z=class n{title="gm-frontend";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=_({type:n,selectors:[["app-root"]],standalone:!0,features:[y],decls:1,vars:0,template:function(i,t){i&1&&u(0,"router-outlet")},dependencies:[L]})};Ae(z,We).catch(n=>console.error(n));
