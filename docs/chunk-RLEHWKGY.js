import{c as g,d as L}from"./chunk-FF4N62Y4.js";import{a as w,b as T,d as O}from"./chunk-TN7LRJOG.js";import{e as B,f as H,g as M,ha as j,ma as P,x as E}from"./chunk-L2AW7WK7.js";var D=B((S,C)=>{"use strict";(function(r,t){typeof S=="object"&&typeof C=="object"?C.exports=t():typeof define=="function"&&define.amd?define([],t):typeof S=="object"?S.printJS=t():r.printJS=t()})(window,function(){return function(y){var r={};function t(i){if(r[i])return r[i].exports;var f=r[i]={i,l:!1,exports:{}};return y[i].call(f.exports,f,f.exports,t),f.l=!0,f.exports}return t.m=y,t.c=r,t.d=function(i,f,d){t.o(i,f)||Object.defineProperty(i,f,{enumerable:!0,get:d})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,f){if(f&1&&(i=t(i)),f&8||f&4&&typeof i=="object"&&i&&i.__esModule)return i;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:i}),f&2&&typeof i!="string")for(var p in i)t.d(d,p,(function(s){return i[s]}).bind(null,p));return d},t.n=function(i){var f=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(f,"a",f),f},t.o=function(i,f){return Object.prototype.hasOwnProperty.call(i,f)},t.p="",t(t.s=0)}({"./src/index.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/sass/index.scss"),f=t.n(i),d=t("./src/js/init.js"),p=d.default.init;typeof window<"u"&&(window.printJS=p),r.default=p},"./src/js/browser.js":function(y,r,t){"use strict";t.r(r);var i={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!d.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};r.default=i},"./src/js/functions.js":function(y,r,t){"use strict";t.r(r),t.d(r,"addWrapper",function(){return p}),t.d(r,"capitalizePrint",function(){return s}),t.d(r,"collectStyles",function(){return l}),t.d(r,"addHeader",function(){return n}),t.d(r,"cleanUp",function(){return u}),t.d(r,"isRawHTML",function(){return m});var i=t("./src/js/modal.js"),f=t("./src/js/browser.js");function d(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(c){return typeof c}:d=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},d(e)}function p(e,a){var c="font-family:"+a.font+" !important; font-size: "+a.font_size+" !important; width:100%;";return'<div style="'+c+'">'+e+"</div>"}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,a){for(var c=document.defaultView||window,b="",h=c.getComputedStyle(e,""),v=0;v<h.length;v++)(a.targetStyles.indexOf("*")!==-1||a.targetStyle.indexOf(h[v])!==-1||o(a.targetStyles,h[v]))&&h.getPropertyValue(h[v])&&(b+=h[v]+":"+h.getPropertyValue(h[v])+";");return b+="max-width: "+a.maxWidth+"px !important; font-size: "+a.font_size+" !important;",b}function o(e,a){for(var c=0;c<e.length;c++)if(d(a)==="object"&&a.indexOf(e[c])!==-1)return!0;return!1}function n(e,a){var c=document.createElement("div");if(m(a.header))c.innerHTML=a.header;else{var b=document.createElement("h1"),h=document.createTextNode(a.header);b.appendChild(h),b.setAttribute("style",a.headerStyle),c.appendChild(b)}e.insertBefore(c,e.childNodes[0])}function u(e){e.showModal&&i.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var a="mouseover";(f.default.isChrome()||f.default.isFirefox())&&(a="focus");var c=function b(){window.removeEventListener(a,b),e.onPrintDialogClose();var h=document.getElementById(e.frameId);h&&h.remove()};window.addEventListener(a,c)}function m(e){var a=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return a.test(e)}},"./src/js/html.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/functions.js"),f=t("./src/js/print.js");function d(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(n){return typeof n}:d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(l)}r.default={print:function(o,n){var u=s(o.printable)?o.printable:document.getElementById(o.printable);if(!u){window.console.error("Invalid HTML element id: "+o.printable);return}o.printableElement=p(u,o),o.header&&Object(i.addHeader)(o.printableElement,o),f.default.send(o,n)}};function p(l,o){for(var n=l.cloneNode(),u=Array.prototype.slice.call(l.childNodes),m=0;m<u.length;m++)if(o.ignoreElements.indexOf(u[m].id)===-1){var e=p(u[m],o);n.appendChild(e)}switch(o.scanStyles&&l.nodeType===1&&n.setAttribute("style",Object(i.collectStyles)(l,o)),l.tagName){case"SELECT":n.value=l.value;break;case"CANVAS":n.getContext("2d").drawImage(l,0,0);break}return n}function s(l){return d(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/functions.js"),f=t("./src/js/print.js"),d=t("./src/js/browser.js");r.default={print:function(s,l){s.printable.constructor!==Array&&(s.printable=[s.printable]),s.printableElement=document.createElement("div"),s.printable.forEach(function(o){var n=document.createElement("img");if(n.setAttribute("style",s.imageStyle),n.src=o,d.default.isFirefox()){var u=n.src;n.src=u}var m=document.createElement("div");m.appendChild(n),s.printableElement.appendChild(m)}),s.header&&Object(i.addHeader)(s.printableElement,s),f.default.send(s,l)}}},"./src/js/init.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/browser.js"),f=t("./src/js/modal.js"),d=t("./src/js/pdf.js"),p=t("./src/js/html.js"),s=t("./src/js/raw-html.js"),l=t("./src/js/image.js"),o=t("./src/js/json.js");function n(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(a){return typeof a}:n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(m)}var u=["pdf","html","image","json","raw-html"];r.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(x){throw x},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},a=arguments[0];if(a===void 0)throw new Error("printJS expects at least 1 attribute.");switch(n(a)){case"string":e.printable=encodeURI(a),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=a.printable,e.fallbackPrintable=typeof a.fallbackPrintable<"u"?a.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var c in e)c==="printable"||c==="fallbackPrintable"||(e[c]=typeof a[c]<"u"?a[c]:e[c]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+n(a))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||u.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&f.default.show(e),e.onLoadingStart&&e.onLoadingStart();var b=document.getElementById(e.frameId);b&&b.parentNode.removeChild(b);var h=document.createElement("iframe");switch(i.default.isFirefox()?h.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):h.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),h.setAttribute("id",e.frameId),e.type!=="pdf"&&(h.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(I){h.srcdoc+='<link rel="stylesheet" href="'+I+'">'})),h.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(i.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var v=window.open(e.fallbackPrintable,"_blank");v.focus(),e.onIncompatibleBrowser()}catch(I){e.onError(I)}finally{e.showModal&&f.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else d.default.print(e,h);break;case"image":l.default.print(e,h);break;case"html":p.default.print(e,h);break;case"raw-html":s.default.print(e,h);break;case"json":o.default.print(e,h);break}}}},"./src/js/json.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/functions.js"),f=t("./src/js/print.js");function d(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(o){return typeof o}:d=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},d(s)}r.default={print:function(l,o){if(d(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(n){return{field:d(n)==="object"?n.field:n,displayName:d(n)==="object"?n.displayName:n,columnSize:d(n)==="object"&&n.columnSize?n.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(i.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=p(l),f.default.send(l,o)}};function p(s){var l=s.printable,o=s.properties,n='<table style="border-collapse: collapse; width: 100%;">';s.repeatTableHeader&&(n+="<thead>"),n+="<tr>";for(var u=0;u<o.length;u++)n+='<th style="width:'+o[u].columnSize+";"+s.gridHeaderStyle+'">'+Object(i.capitalizePrint)(o[u].displayName)+"</th>";n+="</tr>",s.repeatTableHeader&&(n+="</thead>"),n+="<tbody>";for(var m=0;m<l.length;m++){n+="<tr>";for(var e=0;e<o.length;e++){var a=l[m],c=o[e].field.split(".");if(c.length>1)for(var b=0;b<c.length;b++)a=a[c[b]];else a=a[o[e].field];n+='<td style="width:'+o[e].columnSize+s.gridStyle+'">'+a+"</td>"}n+="</tr>"}return n+="</tbody></table>",n}},"./src/js/modal.js":function(y,r,t){"use strict";t.r(r);var i={show:function(d){var p="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",s=document.createElement("div");s.setAttribute("style",p),s.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),l.appendChild(o);var n=document.createElement("span");n.setAttribute("class","printSpinner"),l.appendChild(n);var u=document.createTextNode(d.modalMessage);l.appendChild(u),s.appendChild(l),document.getElementsByTagName("body")[0].appendChild(s),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var d=document.getElementById("printJS-Modal");d&&d.parentNode.removeChild(d)}};r.default=i},"./src/js/pdf.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/print.js"),f=t("./src/js/functions.js");r.default={print:function(s,l){if(s.base64){var o=Uint8Array.from(atob(s.printable),function(u){return u.charCodeAt(0)});d(s,l,o);return}s.printable=/^(blob|http|\/\/)/i.test(s.printable)?s.printable:window.location.origin+(s.printable.charAt(0)!=="/"?"/"+s.printable:s.printable);var n=new window.XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("error",function(){Object(f.cleanUp)(s),s.onError(n.statusText,n)}),n.addEventListener("load",function(){if([200,201].indexOf(n.status)===-1){Object(f.cleanUp)(s),s.onError(n.statusText,n);return}d(s,l,n.response)}),n.open("GET",s.printable,!0),n.send()}};function d(p,s,l){var o=new window.Blob([l],{type:"application/pdf"});o=window.URL.createObjectURL(o),s.setAttribute("src",o),i.default.send(p,s)}},"./src/js/print.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/browser.js"),f=t("./src/js/functions.js"),d={send:function(n,u){document.getElementsByTagName("body")[0].appendChild(u);var m=document.getElementById(n.frameId);m.onload=function(){if(n.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return p(m,n)},1e3):p(m,n);return}var e=m.contentWindow||m.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(n.printableElement),n.type!=="pdf"&&n.style){var a=document.createElement("style");a.innerHTML=n.style,e.head.appendChild(a)}var c=e.getElementsByTagName("img");c.length>0?s(Array.from(c)).then(function(){return p(m,n)}):p(m,n)}}};function p(o,n){try{if(o.focus(),i.default.isEdge()||i.default.isIE())try{o.contentWindow.document.execCommand("print",!1,null)}catch{o.contentWindow.print()}else o.contentWindow.print()}catch(u){n.onError(u)}finally{i.default.isFirefox()&&(o.style.visibility="hidden",o.style.left="-1px"),Object(f.cleanUp)(n)}}function s(o){var n=o.map(function(u){if(u.src&&u.src!==window.location.href)return l(u)});return Promise.all(n)}function l(o){return new Promise(function(n){var u=function m(){!o||typeof o.naturalWidth>"u"||o.naturalWidth===0||!o.complete?setTimeout(m,500):n()};u()})}r.default=d},"./src/js/raw-html.js":function(y,r,t){"use strict";t.r(r);var i=t("./src/js/print.js");r.default={print:function(d,p){d.printableElement=document.createElement("div"),d.printableElement.setAttribute("style","width:100%"),d.printableElement.innerHTML=d.printable,i.default.send(d,p)}}},"./src/sass/index.scss":function(y,r,t){},0:function(y,r,t){y.exports=t("./src/index.js")}}).default})});var A=class y{constructor(r){this.http=r}getCustomerList(r){return E(this.http.get(g.CUSTOMER_FIND_ALL,{params:r}))}createCustomer(r){return E(this.http.post(g.CUSTOMER,r))}updateCustomer(r){return E(this.http.patch(`${g.CUSTOMER}`,r))}getCustomerById(r){return E(this.http.get(`${g.CUSTOMER}/${r}`))}getRoleList(){return E(this.http.get(`${g.ADMIN_USER_ROLE_LIST}`))}deleteCustomer(r){return E(this.http.delete(`${g.CUSTOMER}/${r}`))}static \u0275fac=function(t){return new(t||y)(P(O))};static \u0275prov=j({token:y,factory:y.\u0275fac,providedIn:"root"})};var U=H(D());var R=class y{constructor(r,t){this.http=r;this._storageService=t}getInvoiceList(r){return E(this.http.get(g.INVOICE_LIST,{params:r}))}getInvoiceListByCustomerAndShop(r){let t=new T;return t=t.append("customerId",r.customerId),t=t.append("shopId",r.shopId),E(this.http.get(`${g.INVOICE_BY_CUSTOMER_AND_SHOP}`,{params:t}))}getInvoiceById(r){return E(this.http.get(`${g.INVOICE}/${r}`))}getLatestInvoiceNo(r){return E(this.http.get(`${g.INVOICE_LATEST_NO_BY_SHOP_ID}/${r}`))}createInvoice(r){return E(this.http.post(g.INVOICE,r))}updateInvoice(r){return E(this.http.patch(`${g.INVOICE}`,r))}deleteInvoiceById(r){return E(this.http.delete(`${g.INVOICE}/${r}`))}printInvoice(r){return M(this,null,function*(){let t=new w().set("authorization","Bearer "+this._storageService.getSessionToken()),i=yield E(this.http.get(`${g.INVOICE_PRINT}/${r}`,{headers:t,responseType:"blob",observe:"response"})),f=window.URL.createObjectURL(i.body??new Blob);(0,U.default)(f)})}static \u0275fac=function(t){return new(t||y)(P(O),P(L))};static \u0275prov=j({token:y,factory:y.\u0275fac,providedIn:"root"})};export{A as a,R as b};
