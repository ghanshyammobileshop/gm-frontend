import{a as Be,b as ce}from"./chunk-BP45XNB4.js";import{a as We}from"./chunk-DNOF3OWT.js";import{a as Le}from"./chunk-WJGF7EMD.js";import{a as zt,b as Dt}from"./chunk-WWGSYWOQ.js";import{a as de}from"./chunk-I2NOJ6RZ.js";import{a as ye}from"./chunk-V4PXP256.js";import{a as A,c as Se,d as $e,e as O}from"./chunk-QVUSE63M.js";import{A as It,B as le,D as P,E as me,F as Ct,G as yt,H as bt,I as wt,K as we,L as xt,S as se,U as k,ba as R,ca as xe,d as Ie,da as Me,e as Ce,ea as De,f as Qe,fa as Ee,g as J,ga as Te,h as Z,ha as Ne,ia as Fe,ja as Ae,k as ee,ka as Ve,l as F,la as Oe,m as te,ma as Pe,n as ie,na as ke,o as v,oa as Re,p as ne,q as ht,qa as Mt,r as oe,s as re,t as ae,v as gt,w as _t,x as be,z as St}from"./chunk-JBASF3LD.js";import"./chunk-RGNDWIHZ.js";import{b as ge,j as K,l as _e,p as ft}from"./chunk-TN7LRJOG.js";import{i as ct,l as dt,m as he,o as pt,r as ut,s as X,t as vt}from"./chunk-MKB6ZC6F.js";import{$b as $,Aa as g,Ab as u,Ba as _,Fb as Y,Gb as nt,Hb as ot,Ib as rt,Jb as o,Kb as n,Lb as S,Mb as x,N as B,Nb as M,Pb as D,S as j,Vb as h,Xb as I,a as et,ac as Q,ba as N,bc as W,eb as m,ec as at,f as ve,fb as p,fc as a,g as w,gc as E,ha as tt,hc as c,ia as qe,ic as lt,ka as it,m as G,ma as He,mc as mt,ra as V,rc as C,sa as Ge,sc as st,tc as y,vb as f,zb as fe}from"./chunk-L2AW7WK7.js";var Ut=ve($e(),1),Et=ve($e(),1),z=Et.default||Ut,qt=new it("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:Ht});function Ht(){return{useUtc:!1}}function Gt(r,t){let i=Array(r);for(let e=0;e<r;e++)i[e]=t(e);return i}var Tt=(()=>{let t=class t extends Ce{constructor(e,l){super(),this._options=l,this.setLocale(e||z.locale())}setLocale(e){super.setLocale(e);let l=z.localeData(e);this._localeData={firstDayOfWeek:l.firstDayOfWeek(),longMonths:l.months(),shortMonths:l.monthsShort(),dates:Gt(31,s=>this.createDate(2017,0,s+1).format("D")),longDaysOfWeek:l.weekdays(),shortDaysOfWeek:l.weekdaysShort(),narrowDaysOfWeek:l.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,l,s){let d=this._createMoment({year:e,month:l,date:s}).locale(this.locale);return d.isValid(),d}today(){return this._createMoment().locale(this.locale)}parse(e,l){return e&&typeof e=="string"?this._createMoment(e,l,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,l){return e=this.clone(e),this.isValid(e),e.format(l)}addCalendarYears(e,l){return this.clone(e).add({years:l})}addCalendarMonths(e,l){return this.clone(e).add({months:l})}addCalendarDays(e,l){return this.clone(e).add({days:l})}toIso8601(e){return this.clone(e).format()}deserialize(e){let l;if(e instanceof Date)l=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;l=this._createMoment(e,z.ISO_8601).locale(this.locale)}return l&&this.isValid(l)?this._createMoment(l).locale(this.locale):super.deserialize(e)}isDateInstance(e){return z.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return z.invalid()}_createMoment(e,l,s){let{strict:d,useUtc:b}=this._options||{};return b?z.utc(e,l,s,d):z(e,l,s,d)}};t.\u0275fac=function(l){return new(l||t)(He(Ie,8),He(qt,8))},t.\u0275prov=tt({token:t,factory:t.\u0275fac});let r=t;return r})();var Lt=ve(zt()),Bt=ve($e());function Xt(r,t){if(r&1){let i=D();o(0,"button",44),h("click",function(){g(i);let l=I();return _(l.onPrint())}),a(1," Print"),o(2,"mat-icon",5),a(3,"print"),n()()}if(r&2){let i=I();u("disabled",!i.submitEnable)}}function Kt(r,t){if(r&1&&(o(0,"mat-option",45),a(1),n()),r&2){let i=t.$implicit;u("value",i.value),m(),c(" ",i.value," ")}}function Jt(r,t){r&1&&(o(0,"mat-form-field",29)(1,"mat-label"),a(2,"HSN Code"),n(),S(3,"input",46),n())}function Zt(r,t){if(r&1&&(o(0,"tr",40)(1,"td",41),a(2),n(),o(3,"td",42),a(4),C(5,"number"),n()(),o(6,"tr",40)(7,"td",41),a(8),n(),o(9,"td",42),a(10),C(11,"number"),n()()),r&2){let i,e,l,s,d=I();m(2),c("SGST Total (",(i=d.shop==null?null:d.shop.sgst)!==null&&i!==void 0?i:0,"%)"),m(2),E(y(5,4,(e=d.invoiceForm.get("sgstTotal"))==null?null:e.value,"2.2")),m(4),c("CGST Total (",(l=d.shop==null?null:d.shop.cgst)!==null&&l!==void 0?l:0,"%)"),m(2),E(y(11,7,(s=d.invoiceForm.get("cgstTotal"))==null?null:s.value,"2.2"))}}var ei={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},ue=class r{constructor(t,i,e,l,s,d,b,T){this._activatedRoute=t;this._fb=i;this._utilService=e;this._invoiceService=l;this._shopService=s;this._storageService=d;this._location=b;this._customerService=T}accessControls=A;invoiceForm;submitEnable=!0;invoiceId=null;invoice=null;urlParams=null;customerId=null;shop=null;customer=null;invoiceTypeEnum=We;onDestroy=new G;ngOnInit(){this.initializeForm(),this._activatedRoute.paramMap.pipe(N(this.onDestroy)).subscribe(t=>{this.invoiceId=t.get("id")}),this._activatedRoute.queryParams.pipe(N(this.onDestroy)).subscribe(t=>{let i=this._utilService.decode(t.q);this.urlParams=i,this.customerId=this.urlParams.customerId}),this.loadPreData()}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}initializeForm(){this.invoiceForm=this._fb.group({invoiceNo:new v(null,[F.required]),invoiceType:new v(null,[F.required]),invoiceDate:new v((0,Bt.default)().toISOString(),[F.required]),invoicePrefix:new v(null),subTotal:new v(0),sgstTotal:new v(0),cgstTotal:new v(0),invoiceTotal:new v(0),companyName:new v(null,[F.required]),modelNo:new v(null,[F.required]),serialNo1:new v(null),serialNo2:new v(null),hsnCode:new v(null),quantity:new v(1,[F.required]),price:new v(null,[F.required]),total:new v(0),roundingOff:new v(0),customerId:new v(null,[F.required]),shopId:new v(null,[F.required])}),this.invoiceForm.get("quantity")?.valueChanges.pipe(N(this.onDestroy),B(200),j()).subscribe(t=>{this.calculateTotal()}),this.invoiceForm.get("price")?.valueChanges.pipe(N(this.onDestroy),B(200),j()).subscribe(t=>{this.calculateTotal()})}get f(){return this.invoiceForm.controls}get isTaxInvoiceType(){return this.invoiceForm.controls.invoiceType.value=="Tax Invoice"}onChangeInvoiceType(t){this.calculateTotal()}calculateTotal(){let t=this.invoiceForm.get("quantity")?.value??0,i=this.invoiceForm.get("price")?.value??0;if(this.isTaxInvoiceType&&this.shop){let e=t*i;this.invoiceForm.get("total")?.setValue(e);let l=e*this.shop.sgst/100,s=e*this.shop.cgst/100,d=e+l+s,b=Math.round(d),T=b-d;this.invoiceForm.get("cgstTotal")?.setValue(s),this.invoiceForm.get("sgstTotal")?.setValue(l),this.invoiceForm.get("subTotal")?.setValue(d),this.invoiceForm.get("roundingOff")?.setValue(T),this.invoiceForm.get("invoiceTotal")?.setValue(b)}else{let e=t*i;this.invoiceForm.get("total")?.setValue(e);let l=e,s=Math.round(l),d=s-l;this.invoiceForm.get("subTotal")?.setValue(l),this.invoiceForm.get("roundingOff")?.setValue(d),this.invoiceForm.get("invoiceTotal")?.setValue(s)}}loadPreData(){return w(this,null,function*(){try{if(this.invoiceId)this.invoice=yield this._invoiceService.getInvoiceById(this.invoiceId),this.shop=yield this._shopService.getShopById(this.invoice.shopId),this.customer=yield this._customerService.getCustomerById(this.invoice.customerId),this.invoiceForm.patchValue(this.invoice);else{this.customerId&&(this.customer=yield this._customerService.getCustomerById(this.customerId));let t=this._storageService.getCurrentShopAccess();if(t){this.shop=yield this._shopService.getShopById(t);let i=yield this._invoiceService.getLatestInvoiceNo(t);this.invoiceForm.patchValue({invoiceType:this.shop?.invoiceType,invoicePrefix:this.shop?.invoicePrefix,invoiceNo:i?.expectedInvoiceNo,customerId:this.customerId,shopId:t})}}}catch(t){this._utilService.showErrorSnack(t)}})}onSave(){return w(this,null,function*(){if(this.invoiceForm.invalid){this.invoiceForm.markAllAsTouched();return}try{this.submitEnable=!1;let i;if(this.invoiceId){var t=(0,Lt.cloneDeep)(this.invoiceForm.value);t.id=this.invoiceId,i=yield this._invoiceService.updateInvoice(t)}else i=yield this._invoiceService.createInvoice(this.invoiceForm.value),this.invoiceId=i?.invoice?.id;this._utilService.showSuccessSnack(i?.message??"")}catch(i){this._utilService.showErrorSnack(i)}finally{this.submitEnable=!0}})}onPrint(){return w(this,null,function*(){this.invoiceId&&(yield this._invoiceService.printInvoice(this.invoiceId))})}static \u0275fac=function(i){return new(i||r)(p(K),p(ae),p(O),p(ce),p(Le),p(Se),p(ct),p(Be))};static \u0275cmp=V({type:r,selectors:[["app-create-invoice"]],features:[mt([{provide:Ce,useClass:Tt,deps:[Ie]},{provide:Qe,useValue:ei}])],decls:123,vars:32,consts:[["picker",""],[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","md:m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[1,"bg-white","border","rounded-md"],[1,"md:flex","justify-between","w-full","items-center","border-b"],[1,"text-base","font-semibold","py-3","px-6","m-0"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-5","p-6","text-sm","font-light"],[1,"text-secondary"],[1,"mt-2","mb-0","font-medium"],[1,"bg-white","border","rounded-md","mt-6"],[1,"md:flex","justify-between","w-full","border-b","items-center"],["mat-raised-button","","color","primary",1,"rounded","mr-3","m-2",3,"click","disabled"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"disabled"],[3,"formGroup"],[1,"p-6"],[1,"md:flex","justify-end"],["floatLabel","always",1,"md:w-2/12","w-full","md:mr-5"],["placeholder","Invoice Type","formControlName","invoiceType",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["matInput","","formControlName","invoiceNo","placeholder","Invoice No"],["floatLabel","always",1,"md:w-2/12","w-full"],["matInput","","formControlName","invoiceDate","placeholder","Invoice Date","readonly","",3,"matDatepicker"],["matIconSuffix","",3,"for"],[1,"md:flex","w-full","overflow-x-hidden","bg-white","border","rounded-lg","mt-1","p-3"],[1,"md:w-4/12","p-3"],["floatLabel","always",1,"w-full"],["matInput","","formControlName","companyName","placeholder","Company Name"],["matInput","","formControlName","serialNo2","placeholder","Serial No2"],["matInput","","formControlName","modelNo","placeholder","Model No"],["matInput","","formControlName","serialNo1","placeholder","Serial No1"],[1,"md:flex","w-full","overflow-x-hidden","bg-white","border","rounded-lg","mt-3","p-3"],["matInput","","type","number","formControlName","quantity","placeholder","Quantity"],["matInput","","type","number","formControlName","price","placeholder","Price"],["matInput","","formControlName","total","placeholder","Total","readonly","true"],[1,"md:flex","justify-end","mt-6"],[1,"bg-white","border","rounded-lg","p-3"],[1,"border-b"],[1,"p-3","md:flex","justify-end"],[1,"p-3","text-primary","text-xl"],[1,"p-3","text-primary","text-xl","font-bold"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"click","disabled"],[3,"value"],["matInput","","formControlName","hsnCode","placeholder","HSN Code"]],template:function(i,e){if(i&1){let l=D();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3),n(),o(4,"button",4),h("click",function(){return g(l),_(e._location.back())}),o(5,"mat-icon",5),a(6,"arrow_back"),n(),a(7," Back to Invoices "),n()(),o(8,"div",6)(9,"div",7)(10,"h6",8),a(11,"Customer Details"),n()(),o(12,"div",9)(13,"div")(14,"mat-label",10),a(15,"Customer Name"),n(),o(16,"p",11),a(17),n()(),o(18,"div")(19,"mat-label",10),a(20,"Mobile No1"),n(),o(21,"p",11),a(22),n()(),o(23,"div")(24,"mat-label",10),a(25,"Mobile No2"),n(),o(26,"p",11),a(27),n()(),o(28,"div")(29,"mat-label",10),a(30,"Email"),n(),o(31,"p",11),a(32),n()(),o(33,"div")(34,"mat-label",10),a(35,"GST No"),n(),o(36,"p",11),a(37),n()()()(),o(38,"div",12)(39,"div",13)(40,"h6",8),a(41),n(),o(42,"div")(43,"button",14),h("click",function(){return g(l),_(e.onSave())}),a(44),o(45,"mat-icon",5),a(46,"save"),n()(),f(47,Xt,4,1,"button",15),n()(),o(48,"form",16)(49,"div",17)(50,"div",18)(51,"mat-form-field",19)(52,"mat-select",20),h("selectionChange",function(d){return g(l),_(e.onChangeInvoiceType(d))}),f(53,Kt,2,2,"mat-option",21),C(54,"keyvalue"),n()(),o(55,"mat-form-field",19)(56,"div",22),a(57),n(),S(58,"input",23),n(),o(59,"mat-form-field",24),S(60,"input",25)(61,"mat-datepicker-toggle",26)(62,"mat-datepicker",null,0),n()(),o(64,"div",27)(65,"div",28)(66,"mat-form-field",29)(67,"mat-label"),a(68,"Company Name"),n(),S(69,"input",30),n(),o(70,"mat-form-field",29)(71,"mat-label"),a(72,"Serial No2"),n(),S(73,"input",31),n()(),o(74,"div",28)(75,"mat-form-field",29)(76,"mat-label"),a(77,"Model No"),n(),S(78,"input",32),n(),f(79,Jt,4,0,"mat-form-field",29),n(),o(80,"div",28)(81,"mat-form-field",29)(82,"mat-label"),a(83,"Serial No1"),n(),S(84,"input",33),n()()(),o(85,"div",34)(86,"div",28)(87,"mat-form-field",29)(88,"mat-label"),a(89,"Quantity"),n(),S(90,"input",35),n()(),o(91,"div",28)(92,"mat-form-field",29)(93,"mat-label"),a(94,"Price"),n(),S(95,"input",36),n()(),o(96,"div",28)(97,"mat-form-field",29)(98,"mat-label"),a(99,"Total"),n(),S(100,"input",37),n()()(),o(101,"div",38)(102,"div",39)(103,"table"),f(104,Zt,12,10),o(105,"tr",40)(106,"td",41),a(107,"Sub Total"),n(),o(108,"td",42),a(109),C(110,"number"),n()(),o(111,"tr",40)(112,"td",41),a(113,"Rounding Off"),n(),o(114,"td",42),a(115),C(116,"number"),n()(),o(117,"tr")(118,"td",41),a(119,"Grand Total"),n(),o(120,"td",43),a(121),C(122,"number"),n()()()()()()()()()}if(i&2){let l,s,d,b,T,L,U,q,H=at(63);m(3),c("",e.invoiceId?"Update":"Create New"," Invoice"),m(14),c(" ",e.customer==null?null:e.customer.name," "),m(5),c(" ",(l=e.customer==null?null:e.customer.mobileNo1)!==null&&l!==void 0?l:"NA"," "),m(5),c(" ",(s=e.customer==null?null:e.customer.mobileNo2)!==null&&s!==void 0?s:"NA"," "),m(5),c(" ",(d=e.customer==null?null:e.customer.email)!==null&&d!==void 0?d:"NA"," "),m(5),c(" ",(b=e.customer==null?null:e.customer.gstNo)!==null&&b!==void 0?b:"NA"," "),m(4),c("Invoices By (",(T=e.shop==null?null:e.shop.name)!==null&&T!==void 0?T:"",")"),m(2),u("disabled",!e.submitEnable),m(),c(" ",e.invoiceId?"Update":"Save",""),m(3),Y(e.invoiceId?47:-1),m(),u("formGroup",e.invoiceForm),m(5),u("ngForOf",st(54,21,e.invoiceTypeEnum)),m(4),lt(" ",e.invoiceForm.controls.invoicePrefix.value,"",e.invoiceForm.controls.invoicePrefix.value?"-":"",""),m(3),u("matDatepicker",H),m(),u("for",H),m(18),Y(e.isTaxInvoiceType?79:-1),m(25),Y(e.isTaxInvoiceType?104:-1),m(5),E(y(110,23,(L=e.invoiceForm.get("subTotal"))==null?null:L.value,"2.2")),m(6),E(y(116,26,(U=e.invoiceForm.get("roundingOff"))==null?null:U.value,"2.2")),m(6),c(" ",y(122,29,(q=e.invoiceForm.get("invoiceTotal"))==null?null:q.value,"2.2"),"")}},dependencies:[dt,J,Z,Ct,yt,bt,P,me,le,be,St,It,se,ne,ee,ht,te,ie,oe,re,X,ut],styles:["[_nghost-%COMP%]{display:block}"]})};function oi(r,t){r&1&&(o(0,"th",28),a(1,"No."),n())}function ri(r,t){if(r&1&&(o(0,"td",29),a(1),n()),r&2){let i=t.index,e=I();m(),c(" ",e.pagination.pageIndex*e.pagination.pageSize+(i+1)," ")}}function ai(r,t){r&1&&(o(0,"th",30),a(1,"Name"),n())}function li(r,t){if(r&1&&(o(0,"td",31),a(1),n()),r&2){let i=t.$implicit;m(),c(" ",i.name," ")}}function mi(r,t){r&1&&(o(0,"th",30),a(1,"Mobile No1"),n())}function si(r,t){if(r&1&&(o(0,"td",31),a(1),n()),r&2){let i,e=t.$implicit;m(),c(" ",(i=e.mobileNo1)!==null&&i!==void 0?i:"NA"," ")}}function ci(r,t){r&1&&(o(0,"th",30),a(1,"Mobile No2"),n())}function di(r,t){if(r&1&&(o(0,"td",31),a(1),n()),r&2){let i,e=t.$implicit;m(),c(" ",(i=e.mobileNo2)!==null&&i!==void 0?i:"NA"," ")}}function pi(r,t){r&1&&(o(0,"th",30),a(1,"Email"),n())}function ui(r,t){if(r&1&&(o(0,"td",31),a(1),n()),r&2){let i,e=t.$implicit;m(),c(" ",(i=e.email)!==null&&i!==void 0?i:"NA"," ")}}function vi(r,t){r&1&&S(0,"tr",32)}function fi(r,t){if(r&1&&(o(0,"tr",33)(1,"td",34),a(2," No data found "),n()()),r&2){let i=I();m(),fe("colspan",i.displayedColumns.length)}}function hi(r,t){if(r&1){let i=D();o(0,"tr",35),h("click",function(){let l=g(i).$implicit,s=I();return _(s.openInvoicePage(l.id))}),n()}}var je=class r{constructor(t,i,e,l){this._fb=t;this._customerService=i;this._utilService=e;this._dialogRef=l}accessControls=A;sort;paginator;displayedColumns=["no","name","mobileNo1","mobileNo2","email"];dataSource=new Re;pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0};searchForm;onDestroy=new G;urlParams=null;ngOnInit(){this.searchForm=this._fb.group({searchString:new v(null),status:new v(null),sortBy:new v(""),sortOrder:new v("")}),this.searchForm.get("searchString")?.valueChanges.pipe(N(this.onDestroy),B(500),j()).subscribe(t=>{this.resetPagination(),this.getCustomerList()}),this.getCustomerList()}resetPagination(){this.pagination.pageIndex=0}ngAfterViewInit(){this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Records Per Page"}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}sortData(t){let i=t.direction,e=t.active;(!e||i==="")&&(e="",i=""),this.searchForm.patchValue({sortBy:e,sortOrder:i}),this.getCustomerList()}filterParams(){let t=new ge;return t=t.append("skip",this.pagination.pageIndex*this.pagination.pageSize),t=t.append("limit",this.pagination.pageSize),this.searchForm.value.searchString&&(t=t.append("searchString",this.searchForm.value.searchString)),this.searchForm.value.status&&(t=t.append("status",this.searchForm.value.status)),this.searchForm.value.sortBy&&(t=t.append("sortBy",this.searchForm.value.sortBy)),this.searchForm.value.sortOrder&&(t=t.append("sortOrder",this.searchForm.value.sortOrder)),t}getCustomerList(){return w(this,null,function*(){try{let t=yield this._customerService.getCustomerList(this.filterParams());this.dataSource.data=t.items,this.paginator.pageIndex=this.pagination.pageIndex,this.paginator.length=t.count}catch(t){this._utilService.showErrorSnack(t)}})}pageChanged(t){this.pagination.pageSize=t.pageSize,this.pagination.pageIndex=t.pageIndex,this.getCustomerList()}openInvoicePage(t){this._dialogRef.close(t)}static \u0275fac=function(i){return new(i||r)(p(ae),p(Be),p(O),p(wt))};static \u0275cmp=V({type:r,selectors:[["app-select-customer-dialog"]],viewQuery:function(i,e){if(i&1&&($(R,5),$(k,5)),i&2){let l;Q(l=W())&&(e.sort=l.first),Q(l=W())&&(e.paginator=l.first)}},decls:43,vars:9,consts:[["paginator",""],[1,"w-full"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-extrabold","md:m-0"],["mat-dialog-close","",1,"rounded"],[1,"mr-1"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-3","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["matInput","","placeholder","Search","formControlName","searchString"],["matInput","","placeholder","Status","formControlName","status",3,"selectionChange"],[3,"value"],[1,"w-full","overflow-x-auto","bg-white","border","rounded-lg"],["mat-table","","matSort","",1,"w-full",3,"matSortChange","dataSource"],["matColumnDef","no"],["mat-header-cell","","width","80",4,"matHeaderCellDef"],["mat-cell","","width","80",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobileNo1"],["matColumnDef","mobileNo2"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end","mt-2"],[1,"bg-transparent",3,"page","pageSize","pageIndex","pageSizeOptions"],["mat-header-cell","","width","80"],["mat-cell","","width","80"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(i,e){if(i&1){let l=D();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Select Customer"),n(),o(4,"div")(5,"button",4)(6,"mat-icon",5),a(7,"close"),n()()()(),o(8,"form",6)(9,"div",7)(10,"mat-form-field",8),S(11,"input",9),n(),o(12,"mat-form-field",8)(13,"mat-select",10),h("selectionChange",function(){return g(l),e.resetPagination(),_(e.getCustomerList())}),o(14,"mat-option"),a(15,"All"),n(),o(16,"mat-option",11),a(17,"Active"),n(),o(18,"mat-option",11),a(19,"Inactive"),n()()()()(),o(20,"div",12)(21,"table",13),h("matSortChange",function(d){return g(l),_(e.sortData(d))}),x(22,14),f(23,oi,2,0,"th",15)(24,ri,2,1,"td",16),M(),x(25,17),f(26,ai,2,0,"th",18)(27,li,2,1,"td",19),M(),x(28,20),f(29,mi,2,0,"th",18)(30,si,2,1,"td",19),M(),x(31,21),f(32,ci,2,0,"th",18)(33,di,2,1,"td",19),M(),x(34,22),f(35,pi,2,0,"th",18)(36,ui,2,1,"td",19),M(),f(37,vi,1,0,"tr",23)(38,fi,3,1,"tr",24)(39,hi,1,0,"tr",25),n()(),o(40,"div",26)(41,"mat-paginator",27,0),h("page",function(d){return g(l),_(e.pageChanged(d))}),n()()()}i&2&&(m(8),u("formGroup",e.searchForm),m(8),u("value","Active"),m(2),u("value","Inactive"),m(3),u("dataSource",e.dataSource),m(16),u("matHeaderRowDef",e.displayedColumns),m(2),u("matRowDefColumns",e.displayedColumns),m(2),u("pageSize",e.pagination.pageSize)("pageIndex",e.pagination.pageIndex)("pageSizeOptions",e.pagination.pageSizeOptions))},dependencies:[J,xt,P,me,le,k,se,R,xe,Me,Ee,Ae,Te,De,Ve,Ne,Fe,Oe,Pe,ke,ne,ee,te,ie,oe,re]})};function _i(r,t){if(r&1){let i=D();o(0,"button",30),h("click",function(){g(i);let l=I();return _(l.createInvoice())}),o(1,"mat-icon",31),a(2,"add"),n(),a(3," Create Invoice "),n()}}function Si(r,t){if(r&1&&(o(0,"mat-option",10),a(1),n()),r&2){let i=t.$implicit;u("value",i.id),m(),E(i.name)}}function Ii(r,t){r&1&&(o(0,"th",32),a(1,"No."),n())}function Ci(r,t){if(r&1&&(o(0,"td",33),a(1),n()),r&2){let i=t.index,e=I();m(),c(" ",e.pagination.pageIndex*e.pagination.pageSize+(i+1)," ")}}function yi(r,t){r&1&&(o(0,"th",34),a(1,"Invoice No"),n())}function bi(r,t){if(r&1&&(o(0,"td",35),a(1),n()),r&2){let i=t.$implicit;m(),c(" ",i==null?null:i.invoiceNo," ")}}function wi(r,t){r&1&&(o(0,"th",34),a(1,"Invoice Date"),n())}function xi(r,t){if(r&1&&(o(0,"td",35),a(1),C(2,"date"),n()),r&2){let i=t.$implicit;m(),c(" ",y(2,1,i==null?null:i.createdAt,"dd MMM yyyy")," ")}}function Mi(r,t){r&1&&(o(0,"th",36),a(1,"Customer Name"),n())}function Di(r,t){if(r&1&&(o(0,"td",35),a(1),n()),r&2){let i=t.$implicit;m(),c(" ",i==null||i.customerInfo==null?null:i.customerInfo.name," ")}}function Ei(r,t){r&1&&(o(0,"th",34),a(1,"Company Name"),n())}function Ti(r,t){if(r&1&&(o(0,"td",35),a(1),n()),r&2){let i=t.$implicit;m(),c(" ",i==null?null:i.companyName," ")}}function Ni(r,t){r&1&&(o(0,"th",34),a(1,"Model No"),n())}function Fi(r,t){if(r&1&&(o(0,"td",35),a(1),n()),r&2){let i=t.$implicit;m(),c(" ",i==null?null:i.modelNo," ")}}function Ai(r,t){r&1&&(o(0,"th",34),a(1,"Invoice Total"),n())}function Vi(r,t){if(r&1&&(o(0,"td",35),a(1),C(2,"number"),n()),r&2){let i=t.$implicit;m(),c(" ",y(2,1,i==null?null:i.invoiceTotal,"2.2")," ")}}function Oi(r,t){r&1&&S(0,"tr",37)}function Pi(r,t){if(r&1&&(o(0,"tr",38)(1,"td",39),a(2," No data found "),n()()),r&2){let i=I();m(),fe("colspan",i.displayedColumns.length)}}function ki(r,t){if(r&1){let i=D();o(0,"tr",40),h("click",function(){let l=g(i).$implicit,s=I();return _(s.goTo(s._userService.hasAccess(s.accessControls.INVOICE_READ_DETAILS)?"/invoice/view/"+l.id:null))}),n()}}var Ye=class r{constructor(t,i,e,l,s,d,b,T,L){this._fb=t;this._invoiceService=i;this._activatedRoute=e;this._router=l;this._shopService=s;this._utilService=d;this._dialog=b;this._userService=T;this._storageService=L}accessControls=A;sort;paginator;displayedColumns=["invoiceNo","createdAt","customerName","companyName","modelNo","invoiceTotal"];dataSource=new Re;shopDropdown=null;pagination={pageSizeOptions:[10,25,50,100],pageSize:10,pageIndex:0};searchForm;onDestroy=new G;urlParams=null;ngOnInit(){this.searchForm=this._fb.group({searchString:new v(null),sortBy:new v(""),sortOrder:new v(""),shopId:new v(this._storageService.getCurrentShopAccess())}),this._activatedRoute.queryParams.pipe(N(this.onDestroy)).subscribe(t=>{try{let i=this._utilService.decode(t.q);this.urlParams=i;let e={};i?.page&&!this.pagination.pageIndex&&(this.pagination.pageIndex=parseInt(i?.page)),i?.size&&(this.pagination.pageSize=i?.size),i?.searchString&&!this.searchForm.value.searchString&&(e.searchString=i?.searchString),i?.sortBy&&!this.searchForm.value.sortBy&&(e.sortBy=i?.sortBy),i?.sortOrder&&!this.searchForm.value.sortOrder&&(e.sortOrder=i?.sortOrder),i?.shopId&&!this.searchForm.value.shopId&&(e.shopId=i?.shopId),this.searchForm.patchValue(e)}catch(i){this._utilService.showErrorSnack(i)}}),this.searchForm.get("searchString")?.valueChanges.pipe(N(this.onDestroy),B(500),j()).subscribe(t=>{this.resetPagination(),this.getInvoiceList()}),this.getInvoiceList(),this.getShopList()}getShopList(){return w(this,null,function*(){try{this.shopDropdown=yield this._shopService.getShopListByAccess()}catch(t){this._utilService.showErrorSnack(t)}})}resetPagination(){this.pagination.pageIndex=0}updateRoute(){let t={page:this.pagination.pageIndex,size:this.pagination.pageSize,searchString:this.searchForm.value.searchString??"",sortBy:this.searchForm.value.sortBy??"",sortOrder:this.searchForm.value.sortOrder??"",shopId:this.searchForm.value.shopId??""};this._router.navigate([],{replaceUrl:!0,relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(t)},queryParamsHandling:"merge"})}ngAfterViewInit(){this.urlParams?.sortBy&&this.urlParams?.sortOrder&&this.sort.sort({id:this.urlParams.sortBy,start:this.urlParams.sortOrder.toLowerCase()}),this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Records Per Page"}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}sortData(t){let i=t.direction,e=t.active;(!e||i==="")&&(e="",i=""),this.searchForm.patchValue({sortBy:e,sortOrder:i}),this.getInvoiceList()}filterParams(){let t=new ge;return t=t.append("skip",this.pagination.pageIndex*this.pagination.pageSize),t=t.append("limit",this.pagination.pageSize),this.searchForm.value.searchString&&(t=t.append("searchString",this.searchForm.value.searchString)),this.searchForm.value.sortBy&&(t=t.append("sortBy",this.searchForm.value.sortBy)),this.searchForm.value.sortOrder&&(t=t.append("sortOrder",this.searchForm.value.sortOrder)),this.searchForm.value.shopId&&(t=t.append("shopId",this.searchForm.value.shopId)),this.updateRoute(),t}getInvoiceList(){return w(this,null,function*(){try{let t=yield this._invoiceService.getInvoiceList(this.filterParams());this.dataSource.data=t.items,this.paginator.pageIndex=this.pagination.pageIndex,this.paginator.length=t.count}catch(t){this._utilService.showErrorSnack(t)}})}pageChanged(t){this.pagination.pageSize=t.pageSize,this.pagination.pageIndex=t.pageIndex,this.getInvoiceList()}goTo(t){t&&this._router.navigate([t],{relativeTo:this._activatedRoute,queryParams:{q:this._utilService.encode(this.urlParams)}})}createInvoice(){this._dialog.open(je,{maxWidth:"70vw",maxHeight:"70vh",height:"70%",width:"70%"}).afterClosed().subscribe(i=>w(this,null,function*(){if(i)try{this.urlParams=et({customerId:i},this.urlParams),this.goTo("/invoice/form")}catch(e){this._utilService.showErrorSnack(e)}}))}static \u0275fac=function(i){return new(i||r)(p(ae),p(ce),p(K),p(_e),p(Le),p(O),p(we),p(ye),p(Se))};static \u0275cmp=V({type:r,selectors:[["app-invoice-list"]],viewQuery:function(i,e){if(i&1&&($(R,5),$(k,5)),i&2){let l;Q(l=W())&&(e.sort=l.first),Q(l=W())&&(e.paginator=l.first)}},decls:43,vars:8,consts:[["paginator",""],[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-extrabold","md:m-0"],["mat-raised-button","","color","primary","class","rounded",3,"click",4,"ngIf"],["action","",3,"formGroup"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-4","my-2"],[1,"w-full","fuse-mat-dense"],["matInput","","placeholder","Search","formControlName","searchString"],["placeholder","Shop","formControlName","shopId",3,"selectionChange"],[3,"value"],[1,"w-full","overflow-x-auto","bg-white","border","rounded-lg"],["mat-table","","matSort","",1,"w-full",3,"matSortChange","dataSource"],["matColumnDef","no"],["mat-header-cell","","width","80",4,"matHeaderCellDef"],["mat-cell","","width","80",4,"matCellDef"],["matColumnDef","invoiceNo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","companyName"],["matColumnDef","modelNo"],["matColumnDef","invoiceTotal"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row",4,"matNoDataRow"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"flex","justify-end","mt-2"],[1,"bg-transparent",3,"page","pageSize","pageIndex","pageSizeOptions"],["mat-raised-button","","color","primary",1,"rounded",3,"click"],[1,"mr-1"],["mat-header-cell","","width","80"],["mat-cell","","width","80"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],[1,"mat-row"],[1,"text-center","p-3"],["mat-row","",3,"click"]],template:function(i,e){if(i&1){let l=D();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Invoice List"),n(),o(4,"div"),f(5,_i,4,0,"button",4),n()(),o(6,"form",5)(7,"div",6)(8,"mat-form-field",7),S(9,"input",8),n(),o(10,"mat-form-field",7)(11,"mat-select",9),h("selectionChange",function(){return g(l),e.resetPagination(),_(e.getInvoiceList())}),ot(12,Si,2,2,"mat-option",10,nt),n()()()(),o(14,"div",11)(15,"table",12),h("matSortChange",function(d){return g(l),_(e.sortData(d))}),x(16,13),f(17,Ii,2,0,"th",14)(18,Ci,2,1,"td",15),M(),x(19,16),f(20,yi,2,0,"th",17)(21,bi,2,1,"td",18),M(),x(22,19),f(23,wi,2,0,"th",17)(24,xi,3,4,"td",18),M(),x(25,20),f(26,Mi,2,0,"th",21)(27,Di,2,1,"td",18),M(),x(28,22),f(29,Ei,2,0,"th",17)(30,Ti,2,1,"td",18),M(),x(31,23),f(32,Ni,2,0,"th",17)(33,Fi,2,1,"td",18),M(),x(34,24),f(35,Ai,2,0,"th",17)(36,Vi,3,4,"td",18),M(),f(37,Oi,1,0,"tr",25)(38,Pi,3,1,"tr",26)(39,ki,1,0,"tr",27),n()(),o(40,"div",28)(41,"mat-paginator",29,0),h("page",function(d){return g(l),_(e.pageChanged(d))}),n()()()}i&2&&(m(5),u("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_CREATE)),m(),u("formGroup",e.searchForm),m(6),rt(e.shopDropdown),m(3),u("dataSource",e.dataSource),m(22),u("matHeaderRowDef",e.displayedColumns),m(2),u("matRowDefColumns",e.displayedColumns),m(2),u("pageSize",e.pagination.pageSize)("pageIndex",e.pagination.pageIndex)("pageSizeOptions",e.pagination.pageSizeOptions))},dependencies:[he,J,Z,P,me,le,k,se,R,xe,Me,Ee,Ae,Te,De,Ve,Ne,Fe,Oe,Pe,ke,ne,ee,te,ie,oe,re,X,pt]})};function Ri(r,t){r&1&&(o(0,"p",17),a(1," Active "),n())}function Li(r,t){r&1&&(o(0,"p",18),a(1," Inactive "),n())}function Bi(r,t){if(r&1){let i=D();o(0,"button",19),h("click",function(){g(i);let l=I();return _(l.onPrint())}),a(1," Print"),o(2,"mat-icon",4),a(3,"print"),n()()}}function ji(r,t){if(r&1){let i=D();o(0,"button",20),h("click",function(){g(i);let l=I();return _(l.goTo("/invoice/form/"+l.invoiceId))}),a(1," Edit "),o(2,"mat-icon",4),a(3,"edit"),n()()}}function Yi(r,t){if(r&1){let i=D();o(0,"button",21),h("click",function(){g(i);let l=I();return _(l.deleteInvoice())}),a(1," Delete "),o(2,"mat-icon",4),a(3,"delete"),n()()}}function zi(r,t){if(r&1&&(o(0,"div")(1,"mat-label",9),a(2,"HSN Code"),n(),o(3,"p",10),a(4),n()()),r&2){let i,e=I();m(4),c(" ",(i=e.invoiceModel==null?null:e.invoiceModel.hsnCode)!==null&&i!==void 0?i:""," ")}}function Ui(r,t){if(r&1&&(o(0,"div")(1,"mat-label",9),a(2),n(),o(3,"p",10),a(4),C(5,"number"),n()(),o(6,"div")(7,"mat-label",9),a(8),n(),o(9,"p",10),a(10),C(11,"number"),n()()),r&2){let i=I();m(2),c("SGST Total (",i.invoiceModel==null||i.invoiceModel.shopInfo==null?null:i.invoiceModel.shopInfo.sgst,"%)"),m(2),E(y(5,4,i.invoiceModel==null?null:i.invoiceModel.sgstTotal,"2.2")),m(4),c("SGST Total (",i.invoiceModel==null||i.invoiceModel.shopInfo==null?null:i.invoiceModel.shopInfo.cgst,"%)"),m(2),E(y(11,7,i.invoiceModel==null?null:i.invoiceModel.cgstTotal,"2.2"))}}var ze=class r{constructor(t,i,e,l,s,d){this._activatedRoute=t;this._router=i;this._invoiceService=e;this._utilService=l;this._userService=s;this._dialog=d}accessControls=A;invoiceModel=null;invoiceId;urlParams=null;ngOnInit(){this._activatedRoute.paramMap.subscribe(t=>{this.invoiceId=t.get("id")??"",this.loadPreData()}),this._activatedRoute.queryParams.subscribe(t=>{this.urlParams=t})}loadPreData(){return w(this,null,function*(){try{this.invoiceModel=yield this._invoiceService.getInvoiceById(this.invoiceId)}catch(t){this._utilService.showErrorSnack(t)}})}get isTaxInvoiceType(){return this.invoiceModel?.invoiceType=="Tax Invoice"}goTo(t){t&&this._router.navigate([t],{relativeTo:this._activatedRoute,queryParams:this.urlParams})}deleteInvoice(){this._dialog.open(Dt,{data:{title:"Are sure you want to delete this invoice?"}}).afterClosed().subscribe(i=>w(this,null,function*(){if(i)try{yield this._invoiceService.deleteInvoiceById(this.invoiceId),this._utilService.showSuccessSnack("Invoice deleted successfully"),this.goTo("/invoice")}catch(e){this._utilService.showErrorSnack(e)}}))}onPrint(){return w(this,null,function*(){this.invoiceId&&(yield this._invoiceService.printInvoice(this.invoiceId))})}static \u0275fac=function(i){return new(i||r)(p(K),p(_e),p(ce),p(O),p(ye),p(we))};static \u0275cmp=V({type:r,selectors:[["app-view-invoice-details"]],decls:104,vars:30,consts:[[1,"w-full","p-8"],[1,"md:flex","justify-between","w-full","items-center","mb-8"],[1,"text-primary","text-xl","font-bold","md:m-0"],["mat-button","",1,"rounded",3,"click"],[1,"mr-1"],[1,"bg-white","border","rounded-md"],[1,"md:flex","justify-between","w-full","items-center","border-b"],[1,"text-base","font-semibold","py-3","px-6","m-0"],[1,"grid","md:grid-cols-4","grid-cols-1","gap-5","p-6","text-sm","font-light"],[1,"text-secondary"],[1,"mt-2","mb-0","font-medium"],["class","mt-2 mb-0 font-medium bg-[#CCEEC1] border border-[#54C632] rounded-full w-fit px-4 py-1",4,"ngIf"],["class","mt-2 mb-0 font-medium bg-[#ff7f7f] border border-[#FF0000] rounded-full w-fit px-4 py-1",4,"ngIf"],[1,"bg-white","border","rounded-md","mt-6"],["mat-raised-button","","color","primary","class","rounded mr-5 m-2",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","rounded mr-5",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn","class","rounded mr-5",3,"click",4,"ngIf"],[1,"mt-2","mb-0","font-medium","bg-[#CCEEC1]","border","border-[#54C632]","rounded-full","w-fit","px-4","py-1"],[1,"mt-2","mb-0","font-medium","bg-[#ff7f7f]","border","border-[#FF0000]","rounded-full","w-fit","px-4","py-1"],["mat-raised-button","","color","primary",1,"rounded","mr-5","m-2",3,"click"],["mat-raised-button","","color","primary",1,"rounded","mr-5",3,"click"],["mat-stroked-button","","color","warn",1,"rounded","mr-5",3,"click"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"View Invoice Details"),n(),o(4,"button",3),h("click",function(){return e.goTo("/invoice")}),o(5,"mat-icon",4),a(6,"arrow_back"),n(),a(7," Back to Invoice "),n()(),o(8,"div",5)(9,"div",6)(10,"h6",7),a(11,"Customer Details"),n()(),o(12,"div",8)(13,"div")(14,"mat-label",9),a(15,"Customer Name"),n(),o(16,"p",10),a(17),n()(),o(18,"div")(19,"mat-label",9),a(20,"Mobile No1"),n(),o(21,"p",10),a(22),n()(),o(23,"div")(24,"mat-label",9),a(25,"Mobile No2"),n(),o(26,"p",10),a(27),n()(),o(28,"div")(29,"mat-label",9),a(30,"Email"),n(),o(31,"p",10),a(32),n()(),o(33,"div")(34,"mat-label",9),a(35,"GST No"),n(),o(36,"p",10),a(37),n()(),o(38,"div")(39,"mat-label",9),a(40,"Status"),n(),f(41,Ri,2,0,"p",11)(42,Li,2,0,"p",12),n()()(),o(43,"div",13)(44,"div",6)(45,"h6",7),a(46,"Invoice Details"),n(),o(47,"div"),f(48,Bi,4,0,"button",14)(49,ji,4,0,"button",15)(50,Yi,4,0,"button",16),n()(),o(51,"div",8)(52,"div")(53,"mat-label",9),a(54,"Shop Name"),n(),o(55,"p",10),a(56),n()(),o(57,"div")(58,"mat-label",9),a(59,"Company Name"),n(),o(60,"p",10),a(61),n()(),o(62,"div")(63,"mat-label",9),a(64,"Model No"),n(),o(65,"p",10),a(66),n()(),o(67,"div")(68,"mat-label",9),a(69,"Serial No1"),n(),o(70,"p",10),a(71),n()(),o(72,"div")(73,"mat-label",9),a(74,"Serial No2"),n(),o(75,"p",10),a(76),n()(),f(77,zi,5,1,"div"),n(),S(78,"hr"),o(79,"div",8)(80,"div")(81,"mat-label",9),a(82,"Quantity"),n(),o(83,"p",10),a(84),n()(),o(85,"div")(86,"mat-label",9),a(87,"Price"),n(),o(88,"p",10),a(89),C(90,"number"),n()(),o(91,"div")(92,"mat-label",9),a(93,"Total"),n(),o(94,"p",10),a(95),C(96,"number"),n()(),f(97,Ui,12,10),o(98,"div")(99,"mat-label",9),a(100,"Grand Total"),n(),o(101,"p",10),a(102),C(103,"number"),n()()()()()),i&2){let l,s,d,b,T,L,U,q,H,Ue;m(17),c(" ",e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.name," "),m(5),c(" ",(l=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.mobileNo1)!==null&&l!==void 0?l:"NA"," "),m(5),c(" ",(s=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.mobileNo2)!==null&&s!==void 0?s:"NA"," "),m(5),c(" ",(d=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.email)!==null&&d!==void 0?d:"NA"," "),m(5),c(" ",(b=e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.gstNo)!==null&&b!==void 0?b:"NA"," "),m(4),u("ngIf",e.invoiceModel==null||e.invoiceModel.customerInfo==null?null:e.invoiceModel.customerInfo.active),m(),u("ngIf",!(!(e.invoiceModel==null||e.invoiceModel.customerInfo==null)&&e.invoiceModel.customerInfo.active)),m(6),u("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_PRINT)),m(),u("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_UPDATE)),m(),u("ngIf",e._userService.hasAccess(e.accessControls.INVOICE_DELETE)),m(6),c(" ",(T=e.invoiceModel==null||e.invoiceModel.shopInfo==null?null:e.invoiceModel.shopInfo.name)!==null&&T!==void 0?T:"NA"," "),m(5),c(" ",(L=e.invoiceModel==null?null:e.invoiceModel.companyName)!==null&&L!==void 0?L:""," "),m(5),c(" ",(U=e.invoiceModel==null?null:e.invoiceModel.modelNo)!==null&&U!==void 0?U:""," "),m(5),c(" ",(q=e.invoiceModel==null?null:e.invoiceModel.serialNo1)!==null&&q!==void 0?q:""," "),m(5),c(" ",(H=e.invoiceModel==null?null:e.invoiceModel.serialNo2)!==null&&H!==void 0?H:""," "),m(),Y(e.isTaxInvoiceType?77:-1),m(7),E((Ue=e.invoiceModel==null?null:e.invoiceModel.quantity)!==null&&Ue!==void 0?Ue:""),m(5),E(y(90,21,e.invoiceModel==null?null:e.invoiceModel.price,"2.2")),m(6),E(y(96,24,e.invoiceModel==null?null:e.invoiceModel.total,"2.2")),m(2),Y(e.isTaxInvoiceType?97:-1),m(5),E(y(103,27,e.invoiceModel==null?null:e.invoiceModel.invoiceTotal,"2.2"))}},dependencies:[he,Z,P,be,X]})};var qi=[{path:"",component:Ye,canActivate:[de("INVOICE_READ_LIST")]},{path:"form",component:ue,canActivate:[de("INVOICE_CREATE")]},{path:"form/:id",component:ue,canActivate:[de("INVOICE_UPDATE")]},{path:"view/:id",component:ze,canActivate:[de("INVOICE_READ_DETAILS")]}],Yt=class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=Ge({type:r});static \u0275inj=qe({imports:[vt,Mt,gt,_t,ft.forChild(qi)]})};export{Yt as InvoiceModule};
